var htmx=function(){const htmx={onLoad:null,process:null,on:null,off:null,trigger:null,ajax:null,find:null,findAll:null,closest:null,values:function(t,e){return getInputValues(t,e||"post").values},remove:null,addClass:null,removeClass:null,toggleClass:null,takeClass:null,swap:null,defineExtension:null,removeExtension:null,logAll:null,logNone:null,logger:null,config:{historyEnabled:!0,historyCacheSize:10,refreshOnHistoryMiss:!1,defaultSwapStyle:"innerHTML",defaultSwapDelay:0,defaultSettleDelay:20,includeIndicatorStyles:!0,indicatorClass:"htmx-indicator",requestClass:"htmx-request",addedClass:"htmx-added",settlingClass:"htmx-settling",swappingClass:"htmx-swapping",allowEval:!0,allowScriptTags:!0,inlineScriptNonce:"",inlineStyleNonce:"",attributesToSettle:["class","style","width","height"],withCredentials:!1,timeout:0,wsReconnectDelay:"full-jitter",wsBinaryType:"blob",disableSelector:"[hx-disable], [data-hx-disable]",scrollBehavior:"instant",defaultFocusScroll:!1,getCacheBusterParam:!1,globalViewTransitions:!1,methodsThatUseUrlParams:["get","delete"],selfRequestsOnly:!0,ignoreTitle:!1,scrollIntoViewOnBoost:!0,triggerSpecsCache:null,disableInheritance:!1,responseHandling:[{code:"204",swap:!1},{code:"[23]..",swap:!0},{code:"[45]..",swap:!1,error:!0}],allowNestedOobSwaps:!0,historyRestoreAsHxRequest:!0},parseInterval:null,location,_:null,version:"2.0.6"};htmx.onLoad=onLoadHelper,htmx.process=processNode,htmx.on=addEventListenerImpl,htmx.off=removeEventListenerImpl,htmx.trigger=triggerEvent,htmx.ajax=ajaxHelper,htmx.find=find,htmx.findAll=findAll,htmx.closest=closest,htmx.remove=removeElement,htmx.addClass=addClassToElement,htmx.removeClass=removeClassFromElement,htmx.toggleClass=toggleClassOnElement,htmx.takeClass=takeClassForElement,htmx.swap=swap,htmx.defineExtension=defineExtension,htmx.removeExtension=removeExtension,htmx.logAll=logAll,htmx.logNone=logNone,htmx.parseInterval=parseInterval,htmx._=internalEval;const internalAPI={addTriggerHandler,bodyContains,canAccessLocalStorage,findThisElement,filterValues,swap,hasAttribute,getAttributeValue,getClosestAttributeValue,getClosestMatch,getExpressionVars,getHeaders,getInputValues,getInternalData,getSwapSpecification,getTriggerSpecs,getTarget,makeFragment,mergeObjects,makeSettleInfo,oobSwap,querySelectorExt,settleImmediately,shouldCancel,triggerEvent,triggerErrorEvent,withExtensions},VERBS=["get","post","put","delete","patch"],VERB_SELECTOR=VERBS.map(function(t){return"[hx-"+t+"], [data-hx-"+t+"]"}).join(", ");function parseInterval(t){if(t==null)return;let e=NaN;return t.slice(-2)=="ms"?e=parseFloat(t.slice(0,-2)):t.slice(-1)=="s"?e=parseFloat(t.slice(0,-1))*1e3:t.slice(-1)=="m"?e=parseFloat(t.slice(0,-1))*1e3*60:e=parseFloat(t),isNaN(e)?void 0:e}function getRawAttribute(t,e){return t instanceof Element&&t.getAttribute(e)}function hasAttribute(t,e){return!!t.hasAttribute&&(t.hasAttribute(e)||t.hasAttribute("data-"+e))}function getAttributeValue(t,e){return getRawAttribute(t,e)||getRawAttribute(t,"data-"+e)}function parentElt(t){const e=t.parentElement;return!e&&t.parentNode instanceof ShadowRoot?t.parentNode:e}function getDocument(){return document}function getRootNode(t,e){return t.getRootNode?t.getRootNode({composed:e}):getDocument()}function getClosestMatch(t,e){for(;t&&!e(t);)t=parentElt(t);return t||null}function getAttributeValueWithDisinheritance(t,e,n){const r=getAttributeValue(e,n),s=getAttributeValue(e,"hx-disinherit");var o=getAttributeValue(e,"hx-inherit");if(t!==e){if(htmx.config.disableInheritance)return o&&(o==="*"||o.split(" ").indexOf(n)>=0)?r:null;if(s&&(s==="*"||s.split(" ").indexOf(n)>=0))return"unset"}return r}function getClosestAttributeValue(t,e){let n=null;if(getClosestMatch(t,function(r){return!!(n=getAttributeValueWithDisinheritance(t,asElement(r),e))}),n!=="unset")return n}function matches(t,e){return t instanceof Element&&t.matches(e)}function getStartTag(t){const n=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i.exec(t);return n?n[1].toLowerCase():""}function parseHTML(t){return new DOMParser().parseFromString(t,"text/html")}function takeChildrenFor(t,e){for(;e.childNodes.length>0;)t.append(e.childNodes[0])}function duplicateScript(t){const e=getDocument().createElement("script");return forEach(t.attributes,function(n){e.setAttribute(n.name,n.value)}),e.textContent=t.textContent,e.async=!1,htmx.config.inlineScriptNonce&&(e.nonce=htmx.config.inlineScriptNonce),e}function isJavaScriptScriptNode(t){return t.matches("script")&&(t.type==="text/javascript"||t.type==="module"||t.type==="")}function normalizeScriptTags(t){Array.from(t.querySelectorAll("script")).forEach(e=>{if(isJavaScriptScriptNode(e)){const n=duplicateScript(e),r=e.parentNode;try{r.insertBefore(n,e)}catch(s){logError(s)}finally{e.remove()}}})}function makeFragment(t){const e=t.replace(/<head(\s[^>]*)?>[\s\S]*?<\/head>/i,""),n=getStartTag(e);let r;if(n==="html"){r=new DocumentFragment;const o=parseHTML(t);takeChildrenFor(r,o.body),r.title=o.title}else if(n==="body"){r=new DocumentFragment;const o=parseHTML(e);takeChildrenFor(r,o.body),r.title=o.title}else{const o=parseHTML('<body><template class="internal-htmx-wrapper">'+e+"</template></body>");r=o.querySelector("template").content,r.title=o.title;var s=r.querySelector("title");s&&s.parentNode===r&&(s.remove(),r.title=s.innerText)}return r&&(htmx.config.allowScriptTags?normalizeScriptTags(r):r.querySelectorAll("script").forEach(o=>o.remove())),r}function maybeCall(t){t&&t()}function isType(t,e){return Object.prototype.toString.call(t)==="[object "+e+"]"}function isFunction(t){return typeof t=="function"}function isRawObject(t){return isType(t,"Object")}function getInternalData(t){const e="htmx-internal-data";let n=t[e];return n||(n=t[e]={}),n}function toArray(t){const e=[];if(t)for(let n=0;n<t.length;n++)e.push(t[n]);return e}function forEach(t,e){if(t)for(let n=0;n<t.length;n++)e(t[n])}function isScrolledIntoView(t){const e=t.getBoundingClientRect(),n=e.top,r=e.bottom;return n<window.innerHeight&&r>=0}function bodyContains(t){return t.getRootNode({composed:!0})===document}function splitOnWhitespace(t){return t.trim().split(/\s+/)}function mergeObjects(t,e){for(const n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function parseJSON(t){try{return JSON.parse(t)}catch(e){return logError(e),null}}function canAccessLocalStorage(){const t="htmx:sessionStorageTest";try{return sessionStorage.setItem(t,t),sessionStorage.removeItem(t),!0}catch{return!1}}function normalizePath(t){const e=new URL(t,"http://x");return e&&(t=e.pathname+e.search),t!="/"&&(t=t.replace(/\/+$/,"")),t}function internalEval(str){return maybeEval(getDocument().body,function(){return eval(str)})}function onLoadHelper(t){return htmx.on("htmx:load",function(n){t(n.detail.elt)})}function logAll(){htmx.logger=function(t,e,n){console&&console.log(e,t,n)}}function logNone(){htmx.logger=null}function find(t,e){return typeof t!="string"?t.querySelector(e):find(getDocument(),t)}function findAll(t,e){return typeof t!="string"?t.querySelectorAll(e):findAll(getDocument(),t)}function getWindow(){return window}function removeElement(t,e){t=resolveTarget(t),e?getWindow().setTimeout(function(){removeElement(t),t=null},e):parentElt(t).removeChild(t)}function asElement(t){return t instanceof Element?t:null}function asHtmlElement(t){return t instanceof HTMLElement?t:null}function asString(t){return typeof t=="string"?t:null}function asParentNode(t){return t instanceof Element||t instanceof Document||t instanceof DocumentFragment?t:null}function addClassToElement(t,e,n){t=asElement(resolveTarget(t)),t&&(n?getWindow().setTimeout(function(){addClassToElement(t,e),t=null},n):t.classList&&t.classList.add(e))}function removeClassFromElement(t,e,n){let r=asElement(resolveTarget(t));r&&(n?getWindow().setTimeout(function(){removeClassFromElement(r,e),r=null},n):r.classList&&(r.classList.remove(e),r.classList.length===0&&r.removeAttribute("class")))}function toggleClassOnElement(t,e){t=resolveTarget(t),t.classList.toggle(e)}function takeClassForElement(t,e){t=resolveTarget(t),forEach(t.parentElement.children,function(n){removeClassFromElement(n,e)}),addClassToElement(asElement(t),e)}function closest(t,e){return t=asElement(resolveTarget(t)),t?t.closest(e):null}function startsWith(t,e){return t.substring(0,e.length)===e}function endsWith(t,e){return t.substring(t.length-e.length)===e}function normalizeSelector(t){const e=t.trim();return startsWith(e,"<")&&endsWith(e,"/>")?e.substring(1,e.length-2):e}function querySelectorAllExt(t,e,n){if(e.indexOf("global ")===0)return querySelectorAllExt(t,e.slice(7),!0);t=resolveTarget(t);const r=[];{let i=0,a=0;for(let l=0;l<e.length;l++){const c=e[l];if(c===","&&i===0){r.push(e.substring(a,l)),a=l+1;continue}c==="<"?i++:c==="/"&&l<e.length-1&&e[l+1]===">"&&i--}a<e.length&&r.push(e.substring(a))}const s=[],o=[];for(;r.length>0;){const i=normalizeSelector(r.shift());let a;i.indexOf("closest ")===0?a=closest(asElement(t),normalizeSelector(i.slice(8))):i.indexOf("find ")===0?a=find(asParentNode(t),normalizeSelector(i.slice(5))):i==="next"||i==="nextElementSibling"?a=asElement(t).nextElementSibling:i.indexOf("next ")===0?a=scanForwardQuery(t,normalizeSelector(i.slice(5)),!!n):i==="previous"||i==="previousElementSibling"?a=asElement(t).previousElementSibling:i.indexOf("previous ")===0?a=scanBackwardsQuery(t,normalizeSelector(i.slice(9)),!!n):i==="document"?a=document:i==="window"?a=window:i==="body"?a=document.body:i==="root"?a=getRootNode(t,!!n):i==="host"?a=t.getRootNode().host:o.push(i),a&&s.push(a)}if(o.length>0){const i=o.join(","),a=asParentNode(getRootNode(t,!!n));s.push(...toArray(a.querySelectorAll(i)))}return s}var scanForwardQuery=function(t,e,n){const r=asParentNode(getRootNode(t,n)).querySelectorAll(e);for(let s=0;s<r.length;s++){const o=r[s];if(o.compareDocumentPosition(t)===Node.DOCUMENT_POSITION_PRECEDING)return o}},scanBackwardsQuery=function(t,e,n){const r=asParentNode(getRootNode(t,n)).querySelectorAll(e);for(let s=r.length-1;s>=0;s--){const o=r[s];if(o.compareDocumentPosition(t)===Node.DOCUMENT_POSITION_FOLLOWING)return o}};function querySelectorExt(t,e){return typeof t!="string"?querySelectorAllExt(t,e)[0]:querySelectorAllExt(getDocument().body,t)[0]}function resolveTarget(t,e){return typeof t=="string"?find(asParentNode(e)||document,t):t}function processEventArgs(t,e,n,r){return isFunction(e)?{target:getDocument().body,event:asString(t),listener:e,options:n}:{target:resolveTarget(t),event:asString(e),listener:n,options:r}}function addEventListenerImpl(t,e,n,r){return ready(function(){const o=processEventArgs(t,e,n,r);o.target.addEventListener(o.event,o.listener,o.options)}),isFunction(e)?e:n}function removeEventListenerImpl(t,e,n){return ready(function(){const r=processEventArgs(t,e,n);r.target.removeEventListener(r.event,r.listener)}),isFunction(e)?e:n}const DUMMY_ELT=getDocument().createElement("output");function findAttributeTargets(t,e){const n=getClosestAttributeValue(t,e);if(n){if(n==="this")return[findThisElement(t,e)];{const r=querySelectorAllExt(t,n);if(/(^|,)(\s*)inherit(\s*)($|,)/.test(n)){const o=asElement(getClosestMatch(t,function(i){return i!==t&&hasAttribute(asElement(i),e)}));o&&r.push(...findAttributeTargets(o,e))}return r.length===0?(logError('The selector "'+n+'" on '+e+" returned no matches!"),[DUMMY_ELT]):r}}}function findThisElement(t,e){return asElement(getClosestMatch(t,function(n){return getAttributeValue(asElement(n),e)!=null}))}function getTarget(t){const e=getClosestAttributeValue(t,"hx-target");return e?e==="this"?findThisElement(t,"hx-target"):querySelectorExt(t,e):getInternalData(t).boosted?getDocument().body:t}function shouldSettleAttribute(t){return htmx.config.attributesToSettle.includes(t)}function cloneAttributes(t,e){forEach(t.attributes,function(n){!e.hasAttribute(n.name)&&shouldSettleAttribute(n.name)&&t.removeAttribute(n.name)}),forEach(e.attributes,function(n){shouldSettleAttribute(n.name)&&t.setAttribute(n.name,n.value)})}function isInlineSwap(t,e){const n=getExtensions(e);for(let r=0;r<n.length;r++){const s=n[r];try{if(s.isInlineSwap(t))return!0}catch(o){logError(o)}}return t==="outerHTML"}function oobSwap(t,e,n,r){r=r||getDocument();let s="#"+CSS.escape(getRawAttribute(e,"id")),o="outerHTML";t==="true"||(t.indexOf(":")>0?(o=t.substring(0,t.indexOf(":")),s=t.substring(t.indexOf(":")+1)):o=t),e.removeAttribute("hx-swap-oob"),e.removeAttribute("data-hx-swap-oob");const i=querySelectorAllExt(r,s,!1);return i.length?(forEach(i,function(a){let l;const c=e.cloneNode(!0);l=getDocument().createDocumentFragment(),l.appendChild(c),isInlineSwap(o,a)||(l=asParentNode(c));const f={shouldSwap:!0,target:a,fragment:l};triggerEvent(a,"htmx:oobBeforeSwap",f)&&(a=f.target,f.shouldSwap&&(handlePreservedElements(l),swapWithStyle(o,a,a,l,n),restorePreservedElements()),forEach(n.elts,function(u){triggerEvent(u,"htmx:oobAfterSwap",f)}))}),e.parentNode.removeChild(e)):(e.parentNode.removeChild(e),triggerErrorEvent(getDocument().body,"htmx:oobErrorNoTarget",{content:e})),t}function restorePreservedElements(){const t=find("#--htmx-preserve-pantry--");if(t){for(const e of[...t.children]){const n=find("#"+e.id);n.parentNode.moveBefore(e,n),n.remove()}t.remove()}}function handlePreservedElements(t){forEach(findAll(t,"[hx-preserve], [data-hx-preserve]"),function(e){const n=getAttributeValue(e,"id"),r=getDocument().getElementById(n);if(r!=null)if(e.moveBefore){let s=find("#--htmx-preserve-pantry--");s==null&&(getDocument().body.insertAdjacentHTML("afterend","<div id='--htmx-preserve-pantry--'></div>"),s=find("#--htmx-preserve-pantry--")),s.moveBefore(r,null)}else e.parentNode.replaceChild(r,e)})}function handleAttributes(t,e,n){forEach(e.querySelectorAll("[id]"),function(r){const s=getRawAttribute(r,"id");if(s&&s.length>0){const o=s.replace("'","\\'"),i=r.tagName.replace(":","\\:"),a=asParentNode(t),l=a&&a.querySelector(i+"[id='"+o+"']");if(l&&l!==a){const c=r.cloneNode();cloneAttributes(r,l),n.tasks.push(function(){cloneAttributes(r,c)})}}})}function makeAjaxLoadTask(t){return function(){removeClassFromElement(t,htmx.config.addedClass),processNode(asElement(t)),processFocus(asParentNode(t)),triggerEvent(t,"htmx:load")}}function processFocus(t){const e="[autofocus]",n=asHtmlElement(matches(t,e)?t:t.querySelector(e));n?.focus()}function insertNodesBefore(t,e,n,r){for(handleAttributes(t,n,r);n.childNodes.length>0;){const s=n.firstChild;addClassToElement(asElement(s),htmx.config.addedClass),t.insertBefore(s,e),s.nodeType!==Node.TEXT_NODE&&s.nodeType!==Node.COMMENT_NODE&&r.tasks.push(makeAjaxLoadTask(s))}}function stringHash(t,e){let n=0;for(;n<t.length;)e=(e<<5)-e+t.charCodeAt(n++)|0;return e}function attributeHash(t){let e=0;for(let n=0;n<t.attributes.length;n++){const r=t.attributes[n];r.value&&(e=stringHash(r.name,e),e=stringHash(r.value,e))}return e}function deInitOnHandlers(t){const e=getInternalData(t);if(e.onHandlers){for(let n=0;n<e.onHandlers.length;n++){const r=e.onHandlers[n];removeEventListenerImpl(t,r.event,r.listener)}delete e.onHandlers}}function deInitNode(t){const e=getInternalData(t);e.timeout&&clearTimeout(e.timeout),e.listenerInfos&&forEach(e.listenerInfos,function(n){n.on&&removeEventListenerImpl(n.on,n.trigger,n.listener)}),deInitOnHandlers(t),forEach(Object.keys(e),function(n){n!=="firstInitCompleted"&&delete e[n]})}function cleanUpElement(t){triggerEvent(t,"htmx:beforeCleanupElement"),deInitNode(t),forEach(t.children,function(e){cleanUpElement(e)})}function swapOuterHTML(t,e,n){if(t.tagName==="BODY")return swapInnerHTML(t,e,n);let r;const s=t.previousSibling,o=parentElt(t);if(o){for(insertNodesBefore(o,t,e,n),s==null?r=o.firstChild:r=s.nextSibling,n.elts=n.elts.filter(function(i){return i!==t});r&&r!==t;)r instanceof Element&&n.elts.push(r),r=r.nextSibling;cleanUpElement(t),t.remove()}}function swapAfterBegin(t,e,n){return insertNodesBefore(t,t.firstChild,e,n)}function swapBeforeBegin(t,e,n){return insertNodesBefore(parentElt(t),t,e,n)}function swapBeforeEnd(t,e,n){return insertNodesBefore(t,null,e,n)}function swapAfterEnd(t,e,n){return insertNodesBefore(parentElt(t),t.nextSibling,e,n)}function swapDelete(t){cleanUpElement(t);const e=parentElt(t);if(e)return e.removeChild(t)}function swapInnerHTML(t,e,n){const r=t.firstChild;if(insertNodesBefore(t,r,e,n),r){for(;r.nextSibling;)cleanUpElement(r.nextSibling),t.removeChild(r.nextSibling);cleanUpElement(r),t.removeChild(r)}}function swapWithStyle(t,e,n,r,s){switch(t){case"none":return;case"outerHTML":swapOuterHTML(n,r,s);return;case"afterbegin":swapAfterBegin(n,r,s);return;case"beforebegin":swapBeforeBegin(n,r,s);return;case"beforeend":swapBeforeEnd(n,r,s);return;case"afterend":swapAfterEnd(n,r,s);return;case"delete":swapDelete(n);return;default:var o=getExtensions(e);for(let i=0;i<o.length;i++){const a=o[i];try{const l=a.handleSwap(t,n,r,s);if(l){if(Array.isArray(l))for(let c=0;c<l.length;c++){const f=l[c];f.nodeType!==Node.TEXT_NODE&&f.nodeType!==Node.COMMENT_NODE&&s.tasks.push(makeAjaxLoadTask(f))}return}}catch(l){logError(l)}}t==="innerHTML"?swapInnerHTML(n,r,s):swapWithStyle(htmx.config.defaultSwapStyle,e,n,r,s)}}function findAndSwapOobElements(t,e,n){var r=findAll(t,"[hx-swap-oob], [data-hx-swap-oob]");return forEach(r,function(s){if(htmx.config.allowNestedOobSwaps||s.parentElement===null){const o=getAttributeValue(s,"hx-swap-oob");o!=null&&oobSwap(o,s,e,n)}else s.removeAttribute("hx-swap-oob"),s.removeAttribute("data-hx-swap-oob")}),r.length>0}function swap(t,e,n,r){r||(r={});let s=null,o=null,i=function(){maybeCall(r.beforeSwapCallback),t=resolveTarget(t);const c=r.contextElement?getRootNode(r.contextElement,!1):getDocument(),f=document.activeElement;let u={};u={elt:f,start:f?f.selectionStart:null,end:f?f.selectionEnd:null};const d=makeSettleInfo(t);if(n.swapStyle==="textContent")t.textContent=e;else{let h=makeFragment(e);if(d.title=r.title||h.title,r.historyRequest&&(h=h.querySelector("[hx-history-elt],[data-hx-history-elt]")||h),r.selectOOB){const p=r.selectOOB.split(",");for(let m=0;m<p.length;m++){const E=p[m].split(":",2);let g=E[0].trim();g.indexOf("#")===0&&(g=g.substring(1));const y=E[1]||"true",S=h.querySelector("#"+g);S&&oobSwap(y,S,d,c)}}if(findAndSwapOobElements(h,d,c),forEach(findAll(h,"template"),function(p){p.content&&findAndSwapOobElements(p.content,d,c)&&p.remove()}),r.select){const p=getDocument().createDocumentFragment();forEach(h.querySelectorAll(r.select),function(m){p.appendChild(m)}),h=p}handlePreservedElements(h),swapWithStyle(n.swapStyle,r.contextElement,t,h,d),restorePreservedElements()}if(u.elt&&!bodyContains(u.elt)&&getRawAttribute(u.elt,"id")){const h=document.getElementById(getRawAttribute(u.elt,"id")),p={preventScroll:n.focusScroll!==void 0?!n.focusScroll:!htmx.config.defaultFocusScroll};if(h){if(u.start&&h.setSelectionRange)try{h.setSelectionRange(u.start,u.end)}catch{}h.focus(p)}}t.classList.remove(htmx.config.swappingClass),forEach(d.elts,function(h){h.classList&&h.classList.add(htmx.config.settlingClass),triggerEvent(h,"htmx:afterSwap",r.eventInfo)}),maybeCall(r.afterSwapCallback),n.ignoreTitle||handleTitle(d.title);const v=function(){if(forEach(d.tasks,function(h){h.call()}),forEach(d.elts,function(h){h.classList&&h.classList.remove(htmx.config.settlingClass),triggerEvent(h,"htmx:afterSettle",r.eventInfo)}),r.anchor){const h=asElement(resolveTarget("#"+r.anchor));h&&h.scrollIntoView({block:"start",behavior:"auto"})}updateScrollState(d.elts,n),maybeCall(r.afterSettleCallback),maybeCall(s)};n.settleDelay>0?getWindow().setTimeout(v,n.settleDelay):v()},a=htmx.config.globalViewTransitions;n.hasOwnProperty("transition")&&(a=n.transition);const l=r.contextElement||getDocument();if(a&&triggerEvent(l,"htmx:beforeTransition",r.eventInfo)&&typeof Promise<"u"&&document.startViewTransition){const c=new Promise(function(u,d){s=u,o=d}),f=i;i=function(){document.startViewTransition(function(){return f(),c})}}try{n?.swapDelay&&n.swapDelay>0?getWindow().setTimeout(i,n.swapDelay):i()}catch(c){throw triggerErrorEvent(l,"htmx:swapError",r.eventInfo),maybeCall(o),c}}function handleTriggerHeader(t,e,n){const r=t.getResponseHeader(e);if(r.indexOf("{")===0){const s=parseJSON(r);for(const o in s)if(s.hasOwnProperty(o)){let i=s[o];isRawObject(i)?n=i.target!==void 0?i.target:n:i={value:i},triggerEvent(n,o,i)}}else{const s=r.split(",");for(let o=0;o<s.length;o++)triggerEvent(n,s[o].trim(),[])}}const WHITESPACE_OR_COMMA=/[\s,]/,SYMBOL_START=/[_$a-zA-Z]/,SYMBOL_CONT=/[_$a-zA-Z0-9]/,STRINGISH_START=['"',"'","/"],NOT_WHITESPACE=/[^\s]/,COMBINED_SELECTOR_START=/[{(]/,COMBINED_SELECTOR_END=/[})]/;function tokenizeString(t){const e=[];let n=0;for(;n<t.length;){if(SYMBOL_START.exec(t.charAt(n))){for(var r=n;SYMBOL_CONT.exec(t.charAt(n+1));)n++;e.push(t.substring(r,n+1))}else if(STRINGISH_START.indexOf(t.charAt(n))!==-1){const s=t.charAt(n);var r=n;for(n++;n<t.length&&t.charAt(n)!==s;)t.charAt(n)==="\\"&&n++,n++;e.push(t.substring(r,n+1))}else{const s=t.charAt(n);e.push(s)}n++}return e}function isPossibleRelativeReference(t,e,n){return SYMBOL_START.exec(t.charAt(0))&&t!=="true"&&t!=="false"&&t!=="this"&&t!==n&&e!=="."}function maybeGenerateConditional(t,e,n){if(e[0]==="["){e.shift();let r=1,s=" return (function("+n+"){ return (",o=null;for(;e.length>0;){const i=e[0];if(i==="]"){if(r--,r===0){o===null&&(s=s+"true"),e.shift(),s+=")})";try{const a=maybeEval(t,function(){return Function(s)()},function(){return!0});return a.source=s,a}catch(a){return triggerErrorEvent(getDocument().body,"htmx:syntax:error",{error:a,source:s}),null}}}else i==="["&&r++;isPossibleRelativeReference(i,o,n)?s+="(("+n+"."+i+") ? ("+n+"."+i+") : (window."+i+"))":s=s+i,o=e.shift()}}}function consumeUntil(t,e){let n="";for(;t.length>0&&!e.test(t[0]);)n+=t.shift();return n}function consumeCSSSelector(t){let e;return t.length>0&&COMBINED_SELECTOR_START.test(t[0])?(t.shift(),e=consumeUntil(t,COMBINED_SELECTOR_END).trim(),t.shift()):e=consumeUntil(t,WHITESPACE_OR_COMMA),e}const INPUT_SELECTOR="input, textarea, select";function parseAndCacheTrigger(t,e,n){const r=[],s=tokenizeString(e);do{consumeUntil(s,NOT_WHITESPACE);const a=s.length,l=consumeUntil(s,/[,\[\s]/);if(l!=="")if(l==="every"){const c={trigger:"every"};consumeUntil(s,NOT_WHITESPACE),c.pollInterval=parseInterval(consumeUntil(s,/[,\[\s]/)),consumeUntil(s,NOT_WHITESPACE);var o=maybeGenerateConditional(t,s,"event");o&&(c.eventFilter=o),r.push(c)}else{const c={trigger:l};var o=maybeGenerateConditional(t,s,"event");for(o&&(c.eventFilter=o),consumeUntil(s,NOT_WHITESPACE);s.length>0&&s[0]!==",";){const u=s.shift();if(u==="changed")c.changed=!0;else if(u==="once")c.once=!0;else if(u==="consume")c.consume=!0;else if(u==="delay"&&s[0]===":")s.shift(),c.delay=parseInterval(consumeUntil(s,WHITESPACE_OR_COMMA));else if(u==="from"&&s[0]===":"){if(s.shift(),COMBINED_SELECTOR_START.test(s[0]))var i=consumeCSSSelector(s);else{var i=consumeUntil(s,WHITESPACE_OR_COMMA);if(i==="closest"||i==="find"||i==="next"||i==="previous"){s.shift();const v=consumeCSSSelector(s);v.length>0&&(i+=" "+v)}}c.from=i}else u==="target"&&s[0]===":"?(s.shift(),c.target=consumeCSSSelector(s)):u==="throttle"&&s[0]===":"?(s.shift(),c.throttle=parseInterval(consumeUntil(s,WHITESPACE_OR_COMMA))):u==="queue"&&s[0]===":"?(s.shift(),c.queue=consumeUntil(s,WHITESPACE_OR_COMMA)):u==="root"&&s[0]===":"?(s.shift(),c[u]=consumeCSSSelector(s)):u==="threshold"&&s[0]===":"?(s.shift(),c[u]=consumeUntil(s,WHITESPACE_OR_COMMA)):triggerErrorEvent(t,"htmx:syntax:error",{token:s.shift()});consumeUntil(s,NOT_WHITESPACE)}r.push(c)}s.length===a&&triggerErrorEvent(t,"htmx:syntax:error",{token:s.shift()}),consumeUntil(s,NOT_WHITESPACE)}while(s[0]===","&&s.shift());return n&&(n[e]=r),r}function getTriggerSpecs(t){const e=getAttributeValue(t,"hx-trigger");let n=[];if(e){const r=htmx.config.triggerSpecsCache;n=r&&r[e]||parseAndCacheTrigger(t,e,r)}return n.length>0?n:matches(t,"form")?[{trigger:"submit"}]:matches(t,'input[type="button"], input[type="submit"]')?[{trigger:"click"}]:matches(t,INPUT_SELECTOR)?[{trigger:"change"}]:[{trigger:"click"}]}function cancelPolling(t){getInternalData(t).cancelled=!0}function processPolling(t,e,n){const r=getInternalData(t);r.timeout=getWindow().setTimeout(function(){bodyContains(t)&&r.cancelled!==!0&&(maybeFilterEvent(n,t,makeEvent("hx:poll:trigger",{triggerSpec:n,target:t}))||e(t),processPolling(t,e,n))},n.pollInterval)}function isLocalLink(t){return location.hostname===t.hostname&&getRawAttribute(t,"href")&&getRawAttribute(t,"href").indexOf("#")!==0}function eltIsDisabled(t){return closest(t,htmx.config.disableSelector)}function boostElement(t,e,n){if(t instanceof HTMLAnchorElement&&isLocalLink(t)&&(t.target===""||t.target==="_self")||t.tagName==="FORM"&&String(getRawAttribute(t,"method")).toLowerCase()!=="dialog"){e.boosted=!0;let r,s;if(t.tagName==="A")r="get",s=getRawAttribute(t,"href");else{const o=getRawAttribute(t,"method");r=o?o.toLowerCase():"get",s=getRawAttribute(t,"action"),(s==null||s==="")&&(s=location.href),r==="get"&&s.includes("?")&&(s=s.replace(/\?[^#]+/,""))}n.forEach(function(o){addEventListener(t,function(i,a){const l=asElement(i);if(eltIsDisabled(l)){cleanUpElement(l);return}issueAjaxRequest(r,s,l,a)},e,o,!0)})}}function shouldCancel(t,e){return!!((t.type==="submit"||t.type==="click")&&(e=asElement(t.target)||e,e.tagName==="FORM"||e.form&&e.type==="submit"||(e=e.closest("a"),e&&e.href&&(e.getAttribute("href")==="#"||e.getAttribute("href").indexOf("#")!==0))))}function ignoreBoostedAnchorCtrlClick(t,e){return getInternalData(t).boosted&&t instanceof HTMLAnchorElement&&e.type==="click"&&(e.ctrlKey||e.metaKey)}function maybeFilterEvent(t,e,n){const r=t.eventFilter;if(r)try{return r.call(e,n)!==!0}catch(s){const o=r.source;return triggerErrorEvent(getDocument().body,"htmx:eventFilter:error",{error:s,source:o}),!0}return!1}function addEventListener(t,e,n,r,s){const o=getInternalData(t);let i;r.from?i=querySelectorAllExt(t,r.from):i=[t],r.changed&&("lastValue"in o||(o.lastValue=new WeakMap),i.forEach(function(a){o.lastValue.has(r)||o.lastValue.set(r,new WeakMap),o.lastValue.get(r).set(a,a.value)})),forEach(i,function(a){const l=function(c){if(!bodyContains(t)){a.removeEventListener(r.trigger,l);return}if(ignoreBoostedAnchorCtrlClick(t,c)||((s||shouldCancel(c,t))&&c.preventDefault(),maybeFilterEvent(r,t,c)))return;const f=getInternalData(c);if(f.triggerSpec=r,f.handledFor==null&&(f.handledFor=[]),f.handledFor.indexOf(t)<0){if(f.handledFor.push(t),r.consume&&c.stopPropagation(),r.target&&c.target&&!matches(asElement(c.target),r.target))return;if(r.once){if(o.triggeredOnce)return;o.triggeredOnce=!0}if(r.changed){const u=c.target,d=u.value,v=o.lastValue.get(r);if(v.has(u)&&v.get(u)===d)return;v.set(u,d)}if(o.delayed&&clearTimeout(o.delayed),o.throttle)return;r.throttle>0?o.throttle||(triggerEvent(t,"htmx:trigger"),e(t,c),o.throttle=getWindow().setTimeout(function(){o.throttle=null},r.throttle)):r.delay>0?o.delayed=getWindow().setTimeout(function(){triggerEvent(t,"htmx:trigger"),e(t,c)},r.delay):(triggerEvent(t,"htmx:trigger"),e(t,c))}};n.listenerInfos==null&&(n.listenerInfos=[]),n.listenerInfos.push({trigger:r.trigger,listener:l,on:a}),a.addEventListener(r.trigger,l)})}let windowIsScrolling=!1,scrollHandler=null;function initScrollHandler(){scrollHandler||(scrollHandler=function(){windowIsScrolling=!0},window.addEventListener("scroll",scrollHandler),window.addEventListener("resize",scrollHandler),setInterval(function(){windowIsScrolling&&(windowIsScrolling=!1,forEach(getDocument().querySelectorAll("[hx-trigger*='revealed'],[data-hx-trigger*='revealed']"),function(t){maybeReveal(t)}))},200))}function maybeReveal(t){!hasAttribute(t,"data-hx-revealed")&&isScrolledIntoView(t)&&(t.setAttribute("data-hx-revealed","true"),getInternalData(t).initHash?triggerEvent(t,"revealed"):t.addEventListener("htmx:afterProcessNode",function(){triggerEvent(t,"revealed")},{once:!0}))}function loadImmediately(t,e,n,r){const s=function(){n.loaded||(n.loaded=!0,triggerEvent(t,"htmx:trigger"),e(t))};r>0?getWindow().setTimeout(s,r):s()}function processVerbs(t,e,n){let r=!1;return forEach(VERBS,function(s){if(hasAttribute(t,"hx-"+s)){const o=getAttributeValue(t,"hx-"+s);r=!0,e.path=o,e.verb=s,n.forEach(function(i){addTriggerHandler(t,i,e,function(a,l){const c=asElement(a);if(eltIsDisabled(c)){cleanUpElement(c);return}issueAjaxRequest(s,o,c,l)})})}}),r}function addTriggerHandler(t,e,n,r){if(e.trigger==="revealed")initScrollHandler(),addEventListener(t,r,n,e),maybeReveal(asElement(t));else if(e.trigger==="intersect"){const s={};e.root&&(s.root=querySelectorExt(t,e.root)),e.threshold&&(s.threshold=parseFloat(e.threshold)),new IntersectionObserver(function(i){for(let a=0;a<i.length;a++)if(i[a].isIntersecting){triggerEvent(t,"intersect");break}},s).observe(asElement(t)),addEventListener(asElement(t),r,n,e)}else!n.firstInitCompleted&&e.trigger==="load"?maybeFilterEvent(e,t,makeEvent("load",{elt:t}))||loadImmediately(asElement(t),r,n,e.delay):e.pollInterval>0?(n.polling=!0,processPolling(asElement(t),r,e)):addEventListener(t,r,n,e)}function shouldProcessHxOn(t){const e=asElement(t);if(!e)return!1;const n=e.attributes;for(let r=0;r<n.length;r++){const s=n[r].name;if(startsWith(s,"hx-on:")||startsWith(s,"data-hx-on:")||startsWith(s,"hx-on-")||startsWith(s,"data-hx-on-"))return!0}return!1}const HX_ON_QUERY=new XPathEvaluator().createExpression('.//*[@*[ starts-with(name(), "hx-on:") or starts-with(name(), "data-hx-on:") or starts-with(name(), "hx-on-") or starts-with(name(), "data-hx-on-") ]]');function processHXOnRoot(t,e){shouldProcessHxOn(t)&&e.push(asElement(t));const n=HX_ON_QUERY.evaluate(t);let r=null;for(;r=n.iterateNext();)e.push(asElement(r))}function findHxOnWildcardElements(t){const e=[];if(t instanceof DocumentFragment)for(const n of t.childNodes)processHXOnRoot(n,e);else processHXOnRoot(t,e);return e}function findElementsToProcess(t){if(t.querySelectorAll){const n=", [hx-boost] a, [data-hx-boost] a, a[hx-boost], a[data-hx-boost]",r=[];for(const o in extensions){const i=extensions[o];if(i.getSelectors){var e=i.getSelectors();e&&r.push(e)}}return t.querySelectorAll(VERB_SELECTOR+n+", form, [type='submit'], [hx-ext], [data-hx-ext], [hx-trigger], [data-hx-trigger]"+r.flat().map(o=>", "+o).join(""))}else return[]}function maybeSetLastButtonClicked(t){const e=getTargetButton(t.target),n=getRelatedFormData(t);n&&(n.lastButtonClicked=e)}function maybeUnsetLastButtonClicked(t){const e=getRelatedFormData(t);e&&(e.lastButtonClicked=null)}function getTargetButton(t){return closest(asElement(t),"button, input[type='submit']")}function getRelatedForm(t){return t.form||closest(t,"form")}function getRelatedFormData(t){const e=getTargetButton(t.target);if(!e)return;const n=getRelatedForm(e);return getInternalData(n)}function initButtonTracking(t){t.addEventListener("click",maybeSetLastButtonClicked),t.addEventListener("focusin",maybeSetLastButtonClicked),t.addEventListener("focusout",maybeUnsetLastButtonClicked)}function addHxOnEventHandler(t,e,n){const r=getInternalData(t);Array.isArray(r.onHandlers)||(r.onHandlers=[]);let s;const o=function(i){maybeEval(t,function(){eltIsDisabled(t)||(s||(s=new Function("event",n)),s.call(t,i))})};t.addEventListener(e,o),r.onHandlers.push({event:e,listener:o})}function processHxOnWildcard(t){deInitOnHandlers(t);for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name,r=t.attributes[e].value;if(startsWith(n,"hx-on")||startsWith(n,"data-hx-on")){const s=n.indexOf("-on")+3,o=n.slice(s,s+1);if(o==="-"||o===":"){let i=n.slice(s+1);startsWith(i,":")?i="htmx"+i:startsWith(i,"-")?i="htmx:"+i.slice(1):startsWith(i,"htmx-")&&(i="htmx:"+i.slice(5)),addHxOnEventHandler(t,i,r)}}}}function initNode(t){triggerEvent(t,"htmx:beforeProcessNode");const e=getInternalData(t),n=getTriggerSpecs(t);processVerbs(t,e,n)||(getClosestAttributeValue(t,"hx-boost")==="true"?boostElement(t,e,n):hasAttribute(t,"hx-trigger")&&n.forEach(function(s){addTriggerHandler(t,s,e,function(){})})),(t.tagName==="FORM"||getRawAttribute(t,"type")==="submit"&&hasAttribute(t,"form"))&&initButtonTracking(t),e.firstInitCompleted=!0,triggerEvent(t,"htmx:afterProcessNode")}function maybeDeInitAndHash(t){if(!(t instanceof Element))return!1;const e=getInternalData(t),n=attributeHash(t);return e.initHash!==n?(deInitNode(t),e.initHash=n,!0):!1}function processNode(t){if(t=resolveTarget(t),eltIsDisabled(t)){cleanUpElement(t);return}const e=[];maybeDeInitAndHash(t)&&e.push(t),forEach(findElementsToProcess(t),function(n){if(eltIsDisabled(n)){cleanUpElement(n);return}maybeDeInitAndHash(n)&&e.push(n)}),forEach(findHxOnWildcardElements(t),processHxOnWildcard),forEach(e,initNode)}function kebabEventName(t){return t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function makeEvent(t,e){return new CustomEvent(t,{bubbles:!0,cancelable:!0,composed:!0,detail:e})}function triggerErrorEvent(t,e,n){triggerEvent(t,e,mergeObjects({error:e},n))}function ignoreEventForLogging(t){return t==="htmx:afterProcessNode"}function withExtensions(t,e,n){forEach(getExtensions(t,[],n),function(r){try{e(r)}catch(s){logError(s)}})}function logError(t){console.error(t)}function triggerEvent(t,e,n){t=resolveTarget(t),n==null&&(n={}),n.elt=t;const r=makeEvent(e,n);htmx.logger&&!ignoreEventForLogging(e)&&htmx.logger(t,e,n),n.error&&(logError(n.error),triggerEvent(t,"htmx:error",{errorInfo:n}));let s=t.dispatchEvent(r);const o=kebabEventName(e);if(s&&o!==e){const i=makeEvent(o,r.detail);s=s&&t.dispatchEvent(i)}return withExtensions(asElement(t),function(i){s=s&&i.onEvent(e,r)!==!1&&!r.defaultPrevented}),s}let currentPathForHistory=location.pathname+location.search;function setCurrentPathForHistory(t){currentPathForHistory=t,canAccessLocalStorage()&&sessionStorage.setItem("htmx-current-path-for-history",t)}function getHistoryElement(){return getDocument().querySelector("[hx-history-elt],[data-hx-history-elt]")||getDocument().body}function saveToHistoryCache(t,e){if(!canAccessLocalStorage())return;const n=cleanInnerHtmlForHistory(e),r=getDocument().title,s=window.scrollY;if(htmx.config.historyCacheSize<=0){sessionStorage.removeItem("htmx-history-cache");return}t=normalizePath(t);const o=parseJSON(sessionStorage.getItem("htmx-history-cache"))||[];for(let a=0;a<o.length;a++)if(o[a].url===t){o.splice(a,1);break}const i={url:t,content:n,title:r,scroll:s};for(triggerEvent(getDocument().body,"htmx:historyItemCreated",{item:i,cache:o}),o.push(i);o.length>htmx.config.historyCacheSize;)o.shift();for(;o.length>0;)try{sessionStorage.setItem("htmx-history-cache",JSON.stringify(o));break}catch(a){triggerErrorEvent(getDocument().body,"htmx:historyCacheError",{cause:a,cache:o}),o.shift()}}function getCachedHistory(t){if(!canAccessLocalStorage())return null;t=normalizePath(t);const e=parseJSON(sessionStorage.getItem("htmx-history-cache"))||[];for(let n=0;n<e.length;n++)if(e[n].url===t)return e[n];return null}function cleanInnerHtmlForHistory(t){const e=htmx.config.requestClass,n=t.cloneNode(!0);return forEach(findAll(n,"."+e),function(r){removeClassFromElement(r,e)}),forEach(findAll(n,"[data-disabled-by-htmx]"),function(r){r.removeAttribute("disabled")}),n.innerHTML}function saveCurrentPageToHistory(){const t=getHistoryElement();let e=currentPathForHistory;canAccessLocalStorage()&&(e=sessionStorage.getItem("htmx-current-path-for-history")),e=e||location.pathname+location.search,getDocument().querySelector('[hx-history="false" i],[data-hx-history="false" i]')||(triggerEvent(getDocument().body,"htmx:beforeHistorySave",{path:e,historyElt:t}),saveToHistoryCache(e,t)),htmx.config.historyEnabled&&history.replaceState({htmx:!0},getDocument().title,location.href)}function pushUrlIntoHistory(t){htmx.config.getCacheBusterParam&&(t=t.replace(/org\.htmx\.cache-buster=[^&]*&?/,""),(endsWith(t,"&")||endsWith(t,"?"))&&(t=t.slice(0,-1))),htmx.config.historyEnabled&&history.pushState({htmx:!0},"",t),setCurrentPathForHistory(t)}function replaceUrlInHistory(t){htmx.config.historyEnabled&&history.replaceState({htmx:!0},"",t),setCurrentPathForHistory(t)}function settleImmediately(t){forEach(t,function(e){e.call(void 0)})}function loadHistoryFromServer(t){const e=new XMLHttpRequest,n={swapStyle:"innerHTML",swapDelay:0,settleDelay:0},r={path:t,xhr:e,historyElt:getHistoryElement(),swapSpec:n};e.open("GET",t,!0),htmx.config.historyRestoreAsHxRequest&&e.setRequestHeader("HX-Request","true"),e.setRequestHeader("HX-History-Restore-Request","true"),e.setRequestHeader("HX-Current-URL",location.href),e.onload=function(){this.status>=200&&this.status<400?(r.response=this.response,triggerEvent(getDocument().body,"htmx:historyCacheMissLoad",r),swap(r.historyElt,r.response,n,{contextElement:r.historyElt,historyRequest:!0}),setCurrentPathForHistory(r.path),triggerEvent(getDocument().body,"htmx:historyRestore",{path:t,cacheMiss:!0,serverResponse:r.response})):triggerErrorEvent(getDocument().body,"htmx:historyCacheMissLoadError",r)},triggerEvent(getDocument().body,"htmx:historyCacheMiss",r)&&e.send()}function restoreHistory(t){saveCurrentPageToHistory(),t=t||location.pathname+location.search;const e=getCachedHistory(t);if(e){const n={swapStyle:"innerHTML",swapDelay:0,settleDelay:0,scroll:e.scroll},r={path:t,item:e,historyElt:getHistoryElement(),swapSpec:n};triggerEvent(getDocument().body,"htmx:historyCacheHit",r)&&(swap(r.historyElt,e.content,n,{contextElement:r.historyElt,title:e.title}),setCurrentPathForHistory(r.path),triggerEvent(getDocument().body,"htmx:historyRestore",r))}else htmx.config.refreshOnHistoryMiss?htmx.location.reload(!0):loadHistoryFromServer(t)}function addRequestIndicatorClasses(t){let e=findAttributeTargets(t,"hx-indicator");return e==null&&(e=[t]),forEach(e,function(n){const r=getInternalData(n);r.requestCount=(r.requestCount||0)+1,n.classList.add.call(n.classList,htmx.config.requestClass)}),e}function disableElements(t){let e=findAttributeTargets(t,"hx-disabled-elt");return e==null&&(e=[]),forEach(e,function(n){const r=getInternalData(n);r.requestCount=(r.requestCount||0)+1,n.setAttribute("disabled",""),n.setAttribute("data-disabled-by-htmx","")}),e}function removeRequestIndicators(t,e){forEach(t.concat(e),function(n){const r=getInternalData(n);r.requestCount=(r.requestCount||1)-1}),forEach(t,function(n){getInternalData(n).requestCount===0&&n.classList.remove.call(n.classList,htmx.config.requestClass)}),forEach(e,function(n){getInternalData(n).requestCount===0&&(n.removeAttribute("disabled"),n.removeAttribute("data-disabled-by-htmx"))})}function haveSeenNode(t,e){for(let n=0;n<t.length;n++)if(t[n].isSameNode(e))return!0;return!1}function shouldInclude(t){const e=t;return e.name===""||e.name==null||e.disabled||closest(e,"fieldset[disabled]")||e.type==="button"||e.type==="submit"||e.tagName==="image"||e.tagName==="reset"||e.tagName==="file"?!1:e.type==="checkbox"||e.type==="radio"?e.checked:!0}function addValueToFormData(t,e,n){t!=null&&e!=null&&(Array.isArray(e)?e.forEach(function(r){n.append(t,r)}):n.append(t,e))}function removeValueFromFormData(t,e,n){if(t!=null&&e!=null){let r=n.getAll(t);Array.isArray(e)?r=r.filter(s=>e.indexOf(s)<0):r=r.filter(s=>s!==e),n.delete(t),forEach(r,s=>n.append(t,s))}}function getValueFromInput(t){return t instanceof HTMLSelectElement&&t.multiple?toArray(t.querySelectorAll("option:checked")).map(function(e){return e.value}):t instanceof HTMLInputElement&&t.files?toArray(t.files):t.value}function processInputValue(t,e,n,r,s){if(!(r==null||haveSeenNode(t,r))){if(t.push(r),shouldInclude(r)){const o=getRawAttribute(r,"name");addValueToFormData(o,getValueFromInput(r),e),s&&validateElement(r,n)}r instanceof HTMLFormElement&&(forEach(r.elements,function(o){t.indexOf(o)>=0?removeValueFromFormData(o.name,getValueFromInput(o),e):t.push(o),s&&validateElement(o,n)}),new FormData(r).forEach(function(o,i){o instanceof File&&o.name===""||addValueToFormData(i,o,e)}))}}function validateElement(t,e){const n=t;n.willValidate&&(triggerEvent(n,"htmx:validation:validate"),n.checkValidity()||(e.push({elt:n,message:n.validationMessage,validity:n.validity}),triggerEvent(n,"htmx:validation:failed",{message:n.validationMessage,validity:n.validity})))}function overrideFormData(t,e){for(const n of e.keys())t.delete(n);return e.forEach(function(n,r){t.append(r,n)}),t}function getInputValues(t,e){const n=[],r=new FormData,s=new FormData,o=[],i=getInternalData(t);i.lastButtonClicked&&!bodyContains(i.lastButtonClicked)&&(i.lastButtonClicked=null);let a=t instanceof HTMLFormElement&&t.noValidate!==!0||getAttributeValue(t,"hx-validate")==="true";if(i.lastButtonClicked&&(a=a&&i.lastButtonClicked.formNoValidate!==!0),e!=="get"&&processInputValue(n,s,o,getRelatedForm(t),a),processInputValue(n,r,o,t,a),i.lastButtonClicked||t.tagName==="BUTTON"||t.tagName==="INPUT"&&getRawAttribute(t,"type")==="submit"){const c=i.lastButtonClicked||t,f=getRawAttribute(c,"name");addValueToFormData(f,c.value,s)}const l=findAttributeTargets(t,"hx-include");return forEach(l,function(c){processInputValue(n,r,o,asElement(c),a),matches(c,"form")||forEach(asParentNode(c).querySelectorAll(INPUT_SELECTOR),function(f){processInputValue(n,r,o,f,a)})}),overrideFormData(r,s),{errors:o,formData:r,values:formDataProxy(r)}}function appendParam(t,e,n){t!==""&&(t+="&"),String(n)==="[object Object]"&&(n=JSON.stringify(n));const r=encodeURIComponent(n);return t+=encodeURIComponent(e)+"="+r,t}function urlEncode(t){t=formDataFromObject(t);let e="";return t.forEach(function(n,r){e=appendParam(e,r,n)}),e}function getHeaders(t,e,n){const r={"HX-Request":"true","HX-Trigger":getRawAttribute(t,"id"),"HX-Trigger-Name":getRawAttribute(t,"name"),"HX-Target":getAttributeValue(e,"id"),"HX-Current-URL":location.href};return getValuesForElement(t,"hx-headers",!1,r),n!==void 0&&(r["HX-Prompt"]=n),getInternalData(t).boosted&&(r["HX-Boosted"]="true"),r}function filterValues(t,e){const n=getClosestAttributeValue(e,"hx-params");if(n){if(n==="none")return new FormData;if(n==="*")return t;if(n.indexOf("not ")===0)return forEach(n.slice(4).split(","),function(r){r=r.trim(),t.delete(r)}),t;{const r=new FormData;return forEach(n.split(","),function(s){s=s.trim(),t.has(s)&&t.getAll(s).forEach(function(o){r.append(s,o)})}),r}}else return t}function isAnchorLink(t){return!!getRawAttribute(t,"href")&&getRawAttribute(t,"href").indexOf("#")>=0}function getSwapSpecification(t,e){const n=e||getClosestAttributeValue(t,"hx-swap"),r={swapStyle:getInternalData(t).boosted?"innerHTML":htmx.config.defaultSwapStyle,swapDelay:htmx.config.defaultSwapDelay,settleDelay:htmx.config.defaultSettleDelay};if(htmx.config.scrollIntoViewOnBoost&&getInternalData(t).boosted&&!isAnchorLink(t)&&(r.show="top"),n){const i=splitOnWhitespace(n);if(i.length>0)for(let a=0;a<i.length;a++){const l=i[a];if(l.indexOf("swap:")===0)r.swapDelay=parseInterval(l.slice(5));else if(l.indexOf("settle:")===0)r.settleDelay=parseInterval(l.slice(7));else if(l.indexOf("transition:")===0)r.transition=l.slice(11)==="true";else if(l.indexOf("ignoreTitle:")===0)r.ignoreTitle=l.slice(12)==="true";else if(l.indexOf("scroll:")===0){var s=l.slice(7).split(":");const f=s.pop();var o=s.length>0?s.join(":"):null;r.scroll=f,r.scrollTarget=o}else if(l.indexOf("show:")===0){var s=l.slice(5).split(":");const u=s.pop();var o=s.length>0?s.join(":"):null;r.show=u,r.showTarget=o}else if(l.indexOf("focus-scroll:")===0){const c=l.slice(13);r.focusScroll=c=="true"}else a==0?r.swapStyle=l:logError("Unknown modifier in hx-swap: "+l)}}return r}function usesFormData(t){return getClosestAttributeValue(t,"hx-encoding")==="multipart/form-data"||matches(t,"form")&&getRawAttribute(t,"enctype")==="multipart/form-data"}function encodeParamsForBody(t,e,n){let r=null;return withExtensions(e,function(s){r==null&&(r=s.encodeParameters(t,n,e))}),r??(usesFormData(e)?overrideFormData(new FormData,formDataFromObject(n)):urlEncode(n))}function makeSettleInfo(t){return{tasks:[],elts:[t]}}function updateScrollState(t,e){const n=t[0],r=t[t.length-1];if(e.scroll){var s=null;e.scrollTarget&&(s=asElement(querySelectorExt(n,e.scrollTarget))),e.scroll==="top"&&(n||s)&&(s=s||n,s.scrollTop=0),e.scroll==="bottom"&&(r||s)&&(s=s||r,s.scrollTop=s.scrollHeight),typeof e.scroll=="number"&&getWindow().setTimeout(function(){window.scrollTo(0,e.scroll)},0)}if(e.show){var s=null;if(e.showTarget){let i=e.showTarget;e.showTarget==="window"&&(i="body"),s=asElement(querySelectorExt(n,i))}e.show==="top"&&(n||s)&&(s=s||n,s.scrollIntoView({block:"start",behavior:htmx.config.scrollBehavior})),e.show==="bottom"&&(r||s)&&(s=s||r,s.scrollIntoView({block:"end",behavior:htmx.config.scrollBehavior}))}}function getValuesForElement(t,e,n,r,s){if(r==null&&(r={}),t==null)return r;const o=getAttributeValue(t,e);if(o){let i=o.trim(),a=n;if(i==="unset")return null;i.indexOf("javascript:")===0?(i=i.slice(11),a=!0):i.indexOf("js:")===0&&(i=i.slice(3),a=!0),i.indexOf("{")!==0&&(i="{"+i+"}");let l;a?l=maybeEval(t,function(){return s?Function("event","return ("+i+")").call(t,s):Function("return ("+i+")").call(t)},{}):l=parseJSON(i);for(const c in l)l.hasOwnProperty(c)&&r[c]==null&&(r[c]=l[c])}return getValuesForElement(asElement(parentElt(t)),e,n,r,s)}function maybeEval(t,e,n){return htmx.config.allowEval?e():(triggerErrorEvent(t,"htmx:evalDisallowedError"),n)}function getHXVarsForElement(t,e,n){return getValuesForElement(t,"hx-vars",!0,n,e)}function getHXValsForElement(t,e,n){return getValuesForElement(t,"hx-vals",!1,n,e)}function getExpressionVars(t,e){return mergeObjects(getHXVarsForElement(t,e),getHXValsForElement(t,e))}function safelySetHeaderValue(t,e,n){if(n!==null)try{t.setRequestHeader(e,n)}catch{t.setRequestHeader(e,encodeURIComponent(n)),t.setRequestHeader(e+"-URI-AutoEncoded","true")}}function getPathFromResponse(t){if(t.responseURL)try{const e=new URL(t.responseURL);return e.pathname+e.search}catch{triggerErrorEvent(getDocument().body,"htmx:badResponseUrl",{url:t.responseURL})}}function hasHeader(t,e){return e.test(t.getAllResponseHeaders())}function ajaxHelper(t,e,n){if(t=t.toLowerCase(),n){if(n instanceof Element||typeof n=="string")return issueAjaxRequest(t,e,null,null,{targetOverride:resolveTarget(n)||DUMMY_ELT,returnPromise:!0});{let r=resolveTarget(n.target);return(n.target&&!r||n.source&&!r&&!resolveTarget(n.source))&&(r=DUMMY_ELT),issueAjaxRequest(t,e,resolveTarget(n.source),n.event,{handler:n.handler,headers:n.headers,values:n.values,targetOverride:r,swapOverride:n.swap,select:n.select,returnPromise:!0})}}else return issueAjaxRequest(t,e,null,null,{returnPromise:!0})}function hierarchyForElt(t){const e=[];for(;t;)e.push(t),t=t.parentElement;return e}function verifyPath(t,e,n){const r=new URL(e,location.protocol!=="about:"?location.href:window.origin),o=(location.protocol!=="about:"?location.origin:window.origin)===r.origin;return htmx.config.selfRequestsOnly&&!o?!1:triggerEvent(t,"htmx:validateUrl",mergeObjects({url:r,sameHost:o},n))}function formDataFromObject(t){if(t instanceof FormData)return t;const e=new FormData;for(const n in t)t.hasOwnProperty(n)&&(t[n]&&typeof t[n].forEach=="function"?t[n].forEach(function(r){e.append(n,r)}):typeof t[n]=="object"&&!(t[n]instanceof Blob)?e.append(n,JSON.stringify(t[n])):e.append(n,t[n]));return e}function formDataArrayProxy(t,e,n){return new Proxy(n,{get:function(r,s){return typeof s=="number"?r[s]:s==="length"?r.length:s==="push"?function(o){r.push(o),t.append(e,o)}:typeof r[s]=="function"?function(){r[s].apply(r,arguments),t.delete(e),r.forEach(function(o){t.append(e,o)})}:r[s]&&r[s].length===1?r[s][0]:r[s]},set:function(r,s,o){return r[s]=o,t.delete(e),r.forEach(function(i){t.append(e,i)}),!0}})}function formDataProxy(t){return new Proxy(t,{get:function(e,n){if(typeof n=="symbol"){const s=Reflect.get(e,n);return typeof s=="function"?function(){return s.apply(t,arguments)}:s}if(n==="toJSON")return()=>Object.fromEntries(t);if(n in e&&typeof e[n]=="function")return function(){return t[n].apply(t,arguments)};const r=t.getAll(n);if(r.length!==0)return r.length===1?r[0]:formDataArrayProxy(e,n,r)},set:function(e,n,r){return typeof n!="string"?!1:(e.delete(n),r&&typeof r.forEach=="function"?r.forEach(function(s){e.append(n,s)}):typeof r=="object"&&!(r instanceof Blob)?e.append(n,JSON.stringify(r)):e.append(n,r),!0)},deleteProperty:function(e,n){return typeof n=="string"&&e.delete(n),!0},ownKeys:function(e){return Reflect.ownKeys(Object.fromEntries(e))},getOwnPropertyDescriptor:function(e,n){return Reflect.getOwnPropertyDescriptor(Object.fromEntries(e),n)}})}function issueAjaxRequest(t,e,n,r,s,o){let i=null,a=null;if(s=s??{},s.returnPromise&&typeof Promise<"u")var l=new Promise(function(C,O){i=C,a=O});n==null&&(n=getDocument().body);const c=s.handler||handleAjaxResponse,f=s.select||null;if(!bodyContains(n))return maybeCall(i),l;const u=s.targetOverride||asElement(getTarget(n));if(u==null||u==DUMMY_ELT)return triggerErrorEvent(n,"htmx:targetError",{target:getClosestAttributeValue(n,"hx-target")}),maybeCall(a),l;let d=getInternalData(n);const v=d.lastButtonClicked;if(v){const C=getRawAttribute(v,"formaction");C!=null&&(e=C);const O=getRawAttribute(v,"formmethod");if(O!=null)if(VERBS.includes(O.toLowerCase()))t=O;else return maybeCall(i),l}const h=getClosestAttributeValue(n,"hx-confirm");if(o===void 0&&triggerEvent(n,"htmx:confirm",{target:u,elt:n,path:e,verb:t,triggeringEvent:r,etc:s,issueRequest:function(L){return issueAjaxRequest(t,e,n,r,s,!!L)},question:h})===!1)return maybeCall(i),l;let p=n,m=getClosestAttributeValue(n,"hx-sync"),E=null,g=!1;if(m){const C=m.split(":"),O=C[0].trim();if(O==="this"?p=findThisElement(n,"hx-sync"):p=asElement(querySelectorExt(n,O)),m=(C[1]||"drop").trim(),d=getInternalData(p),m==="drop"&&d.xhr&&d.abortable!==!0)return maybeCall(i),l;if(m==="abort"){if(d.xhr)return maybeCall(i),l;g=!0}else m==="replace"?triggerEvent(p,"htmx:abort"):m.indexOf("queue")===0&&(E=(m.split(" ")[1]||"last").trim())}if(d.xhr)if(d.abortable)triggerEvent(p,"htmx:abort");else{if(E==null){if(r){const C=getInternalData(r);C&&C.triggerSpec&&C.triggerSpec.queue&&(E=C.triggerSpec.queue)}E==null&&(E="last")}return d.queuedRequests==null&&(d.queuedRequests=[]),E==="first"&&d.queuedRequests.length===0?d.queuedRequests.push(function(){issueAjaxRequest(t,e,n,r,s)}):E==="all"?d.queuedRequests.push(function(){issueAjaxRequest(t,e,n,r,s)}):E==="last"&&(d.queuedRequests=[],d.queuedRequests.push(function(){issueAjaxRequest(t,e,n,r,s)})),maybeCall(i),l}const y=new XMLHttpRequest;d.xhr=y,d.abortable=g;const S=function(){d.xhr=null,d.abortable=!1,d.queuedRequests!=null&&d.queuedRequests.length>0&&d.queuedRequests.shift()()},F=getClosestAttributeValue(n,"hx-prompt");if(F){var $=prompt(F);if($===null||!triggerEvent(n,"htmx:prompt",{prompt:$,target:u}))return maybeCall(i),S(),l}if(h&&!o&&!confirm(h))return maybeCall(i),S(),l;let b=getHeaders(n,u,$);t!=="get"&&!usesFormData(n)&&(b["Content-Type"]="application/x-www-form-urlencoded"),s.headers&&(b=mergeObjects(b,s.headers));const w=getInputValues(n,t);let x=w.errors;const _=w.formData;s.values&&overrideFormData(_,formDataFromObject(s.values));const A=formDataFromObject(getExpressionVars(n,r)),R=overrideFormData(_,A);let D=filterValues(R,n);htmx.config.getCacheBusterParam&&t==="get"&&D.set("org.htmx.cache-buster",getRawAttribute(u,"id")||"true"),(e==null||e==="")&&(e=location.href);const P=getValuesForElement(n,"hx-request"),k=getInternalData(n).boosted;let N=htmx.config.methodsThatUseUrlParams.indexOf(t)>=0;const I={boosted:k,useUrlParams:N,formData:D,parameters:formDataProxy(D),unfilteredFormData:R,unfilteredParameters:formDataProxy(R),headers:b,elt:n,target:u,verb:t,errors:x,withCredentials:s.credentials||P.credentials||htmx.config.withCredentials,timeout:s.timeout||P.timeout||htmx.config.timeout,path:e,triggeringEvent:r};if(!triggerEvent(n,"htmx:configRequest",I))return maybeCall(i),S(),l;if(e=I.path,t=I.verb,b=I.headers,D=formDataFromObject(I.parameters),x=I.errors,N=I.useUrlParams,x&&x.length>0)return triggerEvent(n,"htmx:validation:halted",I),maybeCall(i),S(),l;const B=e.split("#"),U=B[0],V=B[1];let H=e;if(N&&(H=U,!D.keys().next().done&&(H.indexOf("?")<0?H+="?":H+="&",H+=urlEncode(D),V&&(H+="#"+V))),!verifyPath(n,H,I))return triggerErrorEvent(n,"htmx:invalidPath",I),maybeCall(a),S(),l;if(y.open(t.toUpperCase(),H,!0),y.overrideMimeType("text/html"),y.withCredentials=I.withCredentials,y.timeout=I.timeout,!P.noHeaders){for(const C in b)if(b.hasOwnProperty(C)){const O=b[C];safelySetHeaderValue(y,C,O)}}const T={xhr:y,target:u,requestConfig:I,etc:s,boosted:k,select:f,pathInfo:{requestPath:e,finalRequestPath:H,responsePath:null,anchor:V}};if(y.onload=function(){try{const C=hierarchyForElt(n);if(T.pathInfo.responsePath=getPathFromResponse(y),c(n,T),T.keepIndicators!==!0&&removeRequestIndicators(M,q),triggerEvent(n,"htmx:afterRequest",T),triggerEvent(n,"htmx:afterOnLoad",T),!bodyContains(n)){let O=null;for(;C.length>0&&O==null;){const L=C.shift();bodyContains(L)&&(O=L)}O&&(triggerEvent(O,"htmx:afterRequest",T),triggerEvent(O,"htmx:afterOnLoad",T))}maybeCall(i)}catch(C){throw triggerErrorEvent(n,"htmx:onLoadError",mergeObjects({error:C},T)),C}finally{S()}},y.onerror=function(){removeRequestIndicators(M,q),triggerErrorEvent(n,"htmx:afterRequest",T),triggerErrorEvent(n,"htmx:sendError",T),maybeCall(a),S()},y.onabort=function(){removeRequestIndicators(M,q),triggerErrorEvent(n,"htmx:afterRequest",T),triggerErrorEvent(n,"htmx:sendAbort",T),maybeCall(a),S()},y.ontimeout=function(){removeRequestIndicators(M,q),triggerErrorEvent(n,"htmx:afterRequest",T),triggerErrorEvent(n,"htmx:timeout",T),maybeCall(a),S()},!triggerEvent(n,"htmx:beforeRequest",T))return maybeCall(i),S(),l;var M=addRequestIndicatorClasses(n),q=disableElements(n);forEach(["loadstart","loadend","progress","abort"],function(C){forEach([y,y.upload],function(O){O.addEventListener(C,function(L){triggerEvent(n,"htmx:xhr:"+C,{lengthComputable:L.lengthComputable,loaded:L.loaded,total:L.total})})})}),triggerEvent(n,"htmx:beforeSend",T);const j=N?null:encodeParamsForBody(y,n,D);return y.send(j),l}function determineHistoryUpdates(t,e){const n=e.xhr;let r=null,s=null;if(hasHeader(n,/HX-Push:/i)?(r=n.getResponseHeader("HX-Push"),s="push"):hasHeader(n,/HX-Push-Url:/i)?(r=n.getResponseHeader("HX-Push-Url"),s="push"):hasHeader(n,/HX-Replace-Url:/i)&&(r=n.getResponseHeader("HX-Replace-Url"),s="replace"),r)return r==="false"?{}:{type:s,path:r};const o=e.pathInfo.finalRequestPath,i=e.pathInfo.responsePath,a=getClosestAttributeValue(t,"hx-push-url"),l=getClosestAttributeValue(t,"hx-replace-url"),c=getInternalData(t).boosted;let f=null,u=null;return a?(f="push",u=a):l?(f="replace",u=l):c&&(f="push",u=i||o),u?u==="false"?{}:(u==="true"&&(u=i||o),e.pathInfo.anchor&&u.indexOf("#")===-1&&(u=u+"#"+e.pathInfo.anchor),{type:f,path:u}):{}}function codeMatches(t,e){var n=new RegExp(t.code);return n.test(e.toString(10))}function resolveResponseHandling(t){for(var e=0;e<htmx.config.responseHandling.length;e++){var n=htmx.config.responseHandling[e];if(codeMatches(n,t.status))return n}return{swap:!1}}function handleTitle(t){if(t){const e=find("title");e?e.textContent=t:window.document.title=t}}function resolveRetarget(t,e){if(e==="this")return t;const n=asElement(querySelectorExt(t,e));if(n==null)throw triggerErrorEvent(t,"htmx:targetError",{target:e}),new Error(`Invalid re-target ${e}`);return n}function handleAjaxResponse(t,e){const n=e.xhr;let r=e.target;const s=e.etc,o=e.select;if(!triggerEvent(t,"htmx:beforeOnLoad",e))return;if(hasHeader(n,/HX-Trigger:/i)&&handleTriggerHeader(n,"HX-Trigger",t),hasHeader(n,/HX-Location:/i)){saveCurrentPageToHistory();let g=n.getResponseHeader("HX-Location");var i;g.indexOf("{")===0&&(i=parseJSON(g),g=i.path,delete i.path),ajaxHelper("get",g,i).then(function(){pushUrlIntoHistory(g)});return}const a=hasHeader(n,/HX-Refresh:/i)&&n.getResponseHeader("HX-Refresh")==="true";if(hasHeader(n,/HX-Redirect:/i)){e.keepIndicators=!0,htmx.location.href=n.getResponseHeader("HX-Redirect"),a&&htmx.location.reload();return}if(a){e.keepIndicators=!0,htmx.location.reload();return}const l=determineHistoryUpdates(t,e),c=resolveResponseHandling(n),f=c.swap;let u=!!c.error,d=htmx.config.ignoreTitle||c.ignoreTitle,v=c.select;c.target&&(e.target=resolveRetarget(t,c.target));var h=s.swapOverride;h==null&&c.swapOverride&&(h=c.swapOverride),hasHeader(n,/HX-Retarget:/i)&&(e.target=resolveRetarget(t,n.getResponseHeader("HX-Retarget"))),hasHeader(n,/HX-Reswap:/i)&&(h=n.getResponseHeader("HX-Reswap"));var p=n.response,m=mergeObjects({shouldSwap:f,serverResponse:p,isError:u,ignoreTitle:d,selectOverride:v,swapOverride:h},e);if(!(c.event&&!triggerEvent(r,c.event,m))&&triggerEvent(r,"htmx:beforeSwap",m)){if(r=m.target,p=m.serverResponse,u=m.isError,d=m.ignoreTitle,v=m.selectOverride,h=m.swapOverride,e.target=r,e.failed=u,e.successful=!u,m.shouldSwap){n.status===286&&cancelPolling(t),withExtensions(t,function(S){p=S.transformResponse(p,n,t)}),l.type&&saveCurrentPageToHistory();var E=getSwapSpecification(t,h);E.hasOwnProperty("ignoreTitle")||(E.ignoreTitle=d),r.classList.add(htmx.config.swappingClass),o&&(v=o),hasHeader(n,/HX-Reselect:/i)&&(v=n.getResponseHeader("HX-Reselect"));const g=getClosestAttributeValue(t,"hx-select-oob"),y=getClosestAttributeValue(t,"hx-select");swap(r,p,E,{select:v==="unset"?null:v||y,selectOOB:g,eventInfo:e,anchor:e.pathInfo.anchor,contextElement:t,afterSwapCallback:function(){if(hasHeader(n,/HX-Trigger-After-Swap:/i)){let S=t;bodyContains(t)||(S=getDocument().body),handleTriggerHeader(n,"HX-Trigger-After-Swap",S)}},afterSettleCallback:function(){if(hasHeader(n,/HX-Trigger-After-Settle:/i)){let S=t;bodyContains(t)||(S=getDocument().body),handleTriggerHeader(n,"HX-Trigger-After-Settle",S)}},beforeSwapCallback:function(){l.type&&(triggerEvent(getDocument().body,"htmx:beforeHistoryUpdate",mergeObjects({history:l},e)),l.type==="push"?(pushUrlIntoHistory(l.path),triggerEvent(getDocument().body,"htmx:pushedIntoHistory",{path:l.path})):(replaceUrlInHistory(l.path),triggerEvent(getDocument().body,"htmx:replacedInHistory",{path:l.path})))}})}u&&triggerErrorEvent(t,"htmx:responseError",mergeObjects({error:"Response Status Error Code "+n.status+" from "+e.pathInfo.requestPath},e))}}const extensions={};function extensionBase(){return{init:function(t){return null},getSelectors:function(){return null},onEvent:function(t,e){return!0},transformResponse:function(t,e,n){return t},isInlineSwap:function(t){return!1},handleSwap:function(t,e,n,r){return!1},encodeParameters:function(t,e,n){return null}}}function defineExtension(t,e){e.init&&e.init(internalAPI),extensions[t]=mergeObjects(extensionBase(),e)}function removeExtension(t){delete extensions[t]}function getExtensions(t,e,n){if(e==null&&(e=[]),t==null)return e;n==null&&(n=[]);const r=getAttributeValue(t,"hx-ext");return r&&forEach(r.split(","),function(s){if(s=s.replace(/ /g,""),s.slice(0,7)=="ignore:"){n.push(s.slice(7));return}if(n.indexOf(s)<0){const o=extensions[s];o&&e.indexOf(o)<0&&e.push(o)}}),getExtensions(asElement(parentElt(t)),e,n)}var isReady=!1;getDocument().addEventListener("DOMContentLoaded",function(){isReady=!0});function ready(t){isReady||getDocument().readyState==="complete"?t():getDocument().addEventListener("DOMContentLoaded",t)}function insertIndicatorStyles(){if(htmx.config.includeIndicatorStyles!==!1){const t=htmx.config.inlineStyleNonce?` nonce="${htmx.config.inlineStyleNonce}"`:"";getDocument().head.insertAdjacentHTML("beforeend","<style"+t+">      ."+htmx.config.indicatorClass+"{opacity:0}      ."+htmx.config.requestClass+" ."+htmx.config.indicatorClass+"{opacity:1; transition: opacity 200ms ease-in;}      ."+htmx.config.requestClass+"."+htmx.config.indicatorClass+"{opacity:1; transition: opacity 200ms ease-in;}      </style>")}}function getMetaConfig(){const t=getDocument().querySelector('meta[name="htmx-config"]');return t?parseJSON(t.content):null}function mergeMetaConfig(){const t=getMetaConfig();t&&(htmx.config=mergeObjects(htmx.config,t))}return ready(function(){mergeMetaConfig(),insertIndicatorStyles();let t=getDocument().body;processNode(t);const e=getDocument().querySelectorAll("[hx-trigger='restored'],[data-hx-trigger='restored']");t.addEventListener("htmx:abort",function(r){const s=r.target,o=getInternalData(s);o&&o.xhr&&o.xhr.abort()});const n=window.onpopstate?window.onpopstate.bind(window):null;window.onpopstate=function(r){r.state&&r.state.htmx?(restoreHistory(),forEach(e,function(s){triggerEvent(s,"htmx:restored",{document:getDocument(),triggerEvent})})):n&&n(r)},getWindow().setTimeout(function(){triggerEvent(t,"htmx:load",{}),t=null},0)}),htmx}();function toggleHidden(t){let e=t;typeof t=="string"&&(e=document.getElementById(t)),e&&e.classList.toggle("hidden")}document.body.addEventListener("htmx:beforeSwap",()=>{document.querySelectorAll(".dropdown").forEach(t=>{t.classList.add("hidden")})});function forEvents(t,e){t.split(/\s+/).forEach(n=>{e(n)})}class MicroEvent{constructor(){this._events={}}on(e,n){forEvents(e,r=>{const s=this._events[r]||[];s.push(n),this._events[r]=s})}off(e,n){var r=arguments.length;if(r===0){this._events={};return}forEvents(e,s=>{if(r===1){delete this._events[s];return}const o=this._events[s];o!==void 0&&(o.splice(o.indexOf(n),1),this._events[s]=o)})}trigger(e,...n){var r=this;forEvents(e,s=>{const o=r._events[s];o!==void 0&&o.forEach(i=>{i.apply(r,n)})})}}function MicroPlugin(t){return t.plugins={},class extends t{constructor(){super(...arguments),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(e,n){t.plugins[e]={name:e,fn:n}}initializePlugins(e){var n,r;const s=this,o=[];if(Array.isArray(e))e.forEach(i=>{typeof i=="string"?o.push(i):(s.plugins.settings[i.name]=i.options,o.push(i.name))});else if(e)for(n in e)e.hasOwnProperty(n)&&(s.plugins.settings[n]=e[n],o.push(n));for(;r=o.shift();)s.require(r)}loadPlugin(e){var n=this,r=n.plugins,s=t.plugins[e];if(!t.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');r.requested[e]=!0,r.loaded[e]=s.fn.apply(n,[n.plugins.settings[e]||{}]),r.names.push(e)}require(e){var n=this,r=n.plugins;if(!n.plugins.loaded.hasOwnProperty(e)){if(r.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');n.loadPlugin(e)}return r.loaded[e]}}}const arrayToPattern=t=>(t=t.filter(Boolean),t.length<2?t[0]||"":maxValueLength(t)==1?"["+t.join("")+"]":"(?:"+t.join("|")+")"),sequencePattern=t=>{if(!hasDuplicates(t))return t.join("");let e="",n=0;const r=()=>{n>1&&(e+="{"+n+"}")};return t.forEach((s,o)=>{if(s===t[o-1]){n++;return}r(),e+=s,n=1}),r(),e},setToPattern=t=>{let e=Array.from(t);return arrayToPattern(e)},hasDuplicates=t=>new Set(t).size!==t.length,escape_regex=t=>(t+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),maxValueLength=t=>t.reduce((e,n)=>Math.max(e,unicodeLength(n)),0),unicodeLength=t=>Array.from(t).length,allSubstrings=t=>{if(t.length===1)return[[t]];let e=[];const n=t.substring(1);return allSubstrings(n).forEach(function(s){let o=s.slice(0);o[0]=t.charAt(0)+o[0],e.push(o),o=s.slice(0),o.unshift(t.charAt(0)),e.push(o)}),e},code_points=[[0,65535]],accent_pat="[-]";let unicode_map,multi_char_reg;const max_char_length=3,latin_convert={},latin_condensed={"/":"",0:"",a:"",aa:"",ae:"",ao:"",au:"",av:"",ay:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",oe:"",oi:"",oo:"",ou:"",p:"",q:"",r:"",s:"",t:"",th:"",tz:"",u:"",v:"",vy:"",w:"",y:"",z:"",hv:""};for(let t in latin_condensed){let e=latin_condensed[t]||"";for(let n=0;n<e.length;n++){let r=e.substring(n,n+1);latin_convert[r]=t}}const convert_pat=new RegExp(Object.keys(latin_convert).join("|")+"|"+accent_pat,"gu"),initialize=t=>{unicode_map===void 0&&(unicode_map=generateMap(code_points))},normalize=(t,e="NFKD")=>t.normalize(e),asciifold=t=>Array.from(t).reduce((e,n)=>e+_asciifold(n),""),_asciifold=t=>(t=normalize(t).toLowerCase().replace(convert_pat,e=>latin_convert[e]||""),normalize(t,"NFC"));function*generator(t){for(const[e,n]of t)for(let r=e;r<=n;r++){let s=String.fromCharCode(r),o=asciifold(s);o!=s.toLowerCase()&&(o.length>max_char_length||o.length!=0&&(yield{folded:o,composed:s,code_point:r}))}}const generateSets=t=>{const e={},n=(r,s)=>{const o=e[r]||new Set,i=new RegExp("^"+setToPattern(o)+"$","iu");s.match(i)||(o.add(escape_regex(s)),e[r]=o)};for(let r of generator(t))n(r.folded,r.folded),n(r.folded,r.composed);return e},generateMap=t=>{const e=generateSets(t),n={};let r=[];for(let o in e){let i=e[o];i&&(n[o]=setToPattern(i)),o.length>1&&r.push(escape_regex(o))}r.sort((o,i)=>i.length-o.length);const s=arrayToPattern(r);return multi_char_reg=new RegExp("^"+s,"u"),n},mapSequence=(t,e=1)=>{let n=0;return t=t.map(r=>(unicode_map[r]&&(n+=r.length),unicode_map[r]||r)),n>=e?sequencePattern(t):""},substringsToPattern=(t,e=1)=>(e=Math.max(e,t.length-1),arrayToPattern(allSubstrings(t).map(n=>mapSequence(n,e)))),sequencesToPattern=(t,e=!0)=>{let n=t.length>1?1:0;return arrayToPattern(t.map(r=>{let s=[];const o=e?r.length():r.length()-1;for(let i=0;i<o;i++)s.push(substringsToPattern(r.substrs[i]||"",n));return sequencePattern(s)}))},inSequences=(t,e)=>{for(const n of e){if(n.start!=t.start||n.end!=t.end||n.substrs.join("")!==t.substrs.join(""))continue;let r=t.parts;const s=i=>{for(const a of r){if(a.start===i.start&&a.substr===i.substr)return!1;if(!(i.length==1||a.length==1)&&(i.start<a.start&&i.end>a.start||a.start<i.start&&a.end>i.start))return!0}return!1};if(!(n.parts.filter(s).length>0))return!0}return!1};class Sequence{parts;substrs;start;end;constructor(){this.parts=[],this.substrs=[],this.start=0,this.end=0}add(e){e&&(this.parts.push(e),this.substrs.push(e.substr),this.start=Math.min(e.start,this.start),this.end=Math.max(e.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(e,n){let r=new Sequence,s=JSON.parse(JSON.stringify(this.parts)),o=s.pop();for(const l of s)r.add(l);let i=n.substr.substring(0,e-o.start),a=i.length;return r.add({start:o.start,end:o.start+a,length:a,substr:i}),r}}const getPattern=t=>{initialize(),t=asciifold(t);let e="",n=[new Sequence];for(let r=0;r<t.length;r++){let o=t.substring(r).match(multi_char_reg);const i=t.substring(r,r+1),a=o?o[0]:null;let l=[],c=new Set;for(const f of n){const u=f.last();if(!u||u.length==1||u.end<=r)if(a){const d=a.length;f.add({start:r,end:r+d,length:d,substr:a}),c.add("1")}else f.add({start:r,end:r+1,length:1,substr:i}),c.add("2");else if(a){let d=f.clone(r,u);const v=a.length;d.add({start:r,end:r+v,length:v,substr:a}),l.push(d)}else c.add("3")}if(l.length>0){l=l.sort((f,u)=>f.length()-u.length());for(let f of l)inSequences(f,n)||n.push(f);continue}if(r>0&&c.size==1&&!c.has("3")){e+=sequencesToPattern(n,!1);let f=new Sequence;const u=n[0];u&&f.add(u.last()),n=[f]}}return e+=sequencesToPattern(n,!0),e},getAttr=(t,e)=>{if(t)return t[e]},getAttrNesting=(t,e)=>{if(t){for(var n,r=e.split(".");(n=r.shift())&&(t=t[n]););return t}},scoreValue=(t,e,n)=>{var r,s;return!t||(t=t+"",e.regex==null)||(s=t.search(e.regex),s===-1)?0:(r=e.string.length/t.length,s===0&&(r+=.5),r*n)},propToArray=(t,e)=>{var n=t[e];if(typeof n=="function")return n;n&&!Array.isArray(n)&&(t[e]=[n])},iterate$5=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},cmp=(t,e)=>typeof t=="number"&&typeof e=="number"?t>e?1:t<e?-1:0:(t=asciifold(t+"").toLowerCase(),e=asciifold(e+"").toLowerCase(),t>e?1:e>t?-1:0);class Sifter{items;settings;constructor(e,n){this.items=e,this.settings=n||{diacritics:!0}}tokenize(e,n,r){if(!e||!e.length)return[];const s=[],o=e.split(/\s+/);var i;return r&&(i=new RegExp("^("+Object.keys(r).map(escape_regex).join("|")+"):(.*)$")),o.forEach(a=>{let l,c=null,f=null;i&&(l=a.match(i))&&(c=l[1],a=l[2]),a.length>0&&(this.settings.diacritics?f=getPattern(a)||null:f=escape_regex(a),f&&n&&(f="\\b"+f)),s.push({string:a,regex:f?new RegExp(f,"iu"):null,field:c})}),s}getScoreFunction(e,n){var r=this.prepareSearch(e,n);return this._getScoreFunction(r)}_getScoreFunction(e){const n=e.tokens,r=n.length;if(!r)return function(){return 0};const s=e.options.fields,o=e.weights,i=s.length,a=e.getAttrFn;if(!i)return function(){return 1};const l=function(){return i===1?function(c,f){const u=s[0].field;return scoreValue(a(f,u),c,o[u]||1)}:function(c,f){var u=0;if(c.field){const d=a(f,c.field);!c.regex&&d?u+=1/i:u+=scoreValue(d,c,1)}else iterate$5(o,(d,v)=>{u+=scoreValue(a(f,v),c,d)});return u/i}}();return r===1?function(c){return l(n[0],c)}:e.options.conjunction==="and"?function(c){var f,u=0;for(let d of n){if(f=l(d,c),f<=0)return 0;u+=f}return u/r}:function(c){var f=0;return iterate$5(n,u=>{f+=l(u,c)}),f/r}}getSortFunction(e,n){var r=this.prepareSearch(e,n);return this._getSortFunction(r)}_getSortFunction(e){var n,r=[];const s=this,o=e.options,i=!e.query&&o.sort_empty?o.sort_empty:o.sort;if(typeof i=="function")return i.bind(this);const a=function(c,f){return c==="$score"?f.score:e.getAttrFn(s.items[f.id],c)};if(i)for(let c of i)(e.query||c.field!=="$score")&&r.push(c);if(e.query){n=!0;for(let c of r)if(c.field==="$score"){n=!1;break}n&&r.unshift({field:"$score",direction:"desc"})}else r=r.filter(c=>c.field!=="$score");return r.length?function(c,f){var u,d;for(let v of r)if(d=v.field,u=(v.direction==="desc"?-1:1)*cmp(a(d,c),a(d,f)),u)return u;return 0}:null}prepareSearch(e,n){const r={};var s=Object.assign({},n);if(propToArray(s,"sort"),propToArray(s,"sort_empty"),s.fields){propToArray(s,"fields");const o=[];s.fields.forEach(i=>{typeof i=="string"&&(i={field:i,weight:1}),o.push(i),r[i.field]="weight"in i?i.weight:1}),s.fields=o}return{options:s,query:e.toLowerCase().trim(),tokens:this.tokenize(e,s.respect_word_boundaries,r),total:0,items:[],weights:r,getAttrFn:s.nesting?getAttrNesting:getAttr}}search(e,n){var r=this,s,o;o=this.prepareSearch(e,n),n=o.options,e=o.query;const i=n.score||r._getScoreFunction(o);e.length?iterate$5(r.items,(l,c)=>{s=i(l),(n.filter===!1||s>0)&&o.items.push({score:s,id:c})}):iterate$5(r.items,(l,c)=>{o.items.push({score:1,id:c})});const a=r._getSortFunction(o);return a&&o.items.sort(a),o.total=o.items.length,typeof n.limit=="number"&&(o.items=o.items.slice(0,n.limit)),o}}const hash_key$1=t=>typeof t>"u"||t===null?null:get_hash$1(t),get_hash$1=t=>typeof t=="boolean"?t?"1":"0":t+"",escape_html$1=t=>(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),timeout=(t,e)=>e>0?window.setTimeout(t,e):(t.call(null),null),loadDebounce=(t,e)=>{var n;return function(r,s){var o=this;n&&(o.loading=Math.max(o.loading-1,0),clearTimeout(n)),n=setTimeout(function(){n=null,o.loadedSearches[r]=!0,t.call(o,r,s)},e)}},debounce_events=(t,e,n)=>{var r,s=t.trigger,o={};t.trigger=function(){var i=arguments[0];if(e.indexOf(i)!==-1)o[i]=arguments;else return s.apply(t,arguments)},n.apply(t,[]),t.trigger=s;for(r of e)r in o&&s.apply(t,o[r])},getSelection=t=>({start:t.selectionStart||0,length:(t.selectionEnd||0)-(t.selectionStart||0)}),preventDefault$5=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},addEvent$5=(t,e,n,r)=>{t.addEventListener(e,n,r)},isKeyDown=(t,e)=>{if(!e||!e[t])return!1;var n=(e.altKey?1:0)+(e.ctrlKey?1:0)+(e.shiftKey?1:0)+(e.metaKey?1:0);return n===1},getId=(t,e)=>{const n=t.getAttribute("id");return n||(t.setAttribute("id",e),e)},addSlashes=t=>t.replace(/[\\"']/g,"\\$&"),append=(t,e)=>{e&&t.append(e)},iterate$4=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},getDom$6=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(isHtmlString$6(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},isHtmlString$6=t=>typeof t=="string"&&t.indexOf("<")>-1,escapeQuery=t=>t.replace(/['"\\]/g,"\\$&"),triggerEvent=(t,e)=>{var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!1),t.dispatchEvent(n)},applyCSS=(t,e)=>{Object.assign(t.style,e)},addClasses$2=(t,...e)=>{var n=classesArray$3(e);t=castAsArray$3(t),t.map(r=>{n.map(s=>{r.classList.add(s)})})},removeClasses$1=(t,...e)=>{var n=classesArray$3(e);t=castAsArray$3(t),t.map(r=>{n.map(s=>{r.classList.remove(s)})})},classesArray$3=t=>{var e=[];return iterate$4(t,n=>{typeof n=="string"&&(n=n.trim().split(/[\t\n\f\r\s]/)),Array.isArray(n)&&(e=e.concat(n))}),e.filter(Boolean)},castAsArray$3=t=>(Array.isArray(t)||(t=[t]),t),parentMatch$1=(t,e,n)=>{if(!(n&&!n.contains(t)))for(;t&&t.matches;){if(t.matches(e))return t;t=t.parentNode}},getTail=(t,e=0)=>e>0?t[t.length-1]:t[0],isEmptyObject=t=>Object.keys(t).length===0,nodeIndex$2=(t,e)=>{if(!t)return-1;e=e||t.nodeName;for(var n=0;t=t.previousElementSibling;)t.matches(e)&&n++;return n},setAttr$1=(t,e)=>{iterate$4(e,(n,r)=>{n==null?t.removeAttribute(r):t.setAttribute(r,""+n)})},replaceNode=(t,e)=>{t.parentNode&&t.parentNode.replaceChild(e,t)},highlight=(t,e)=>{if(e===null)return;if(typeof e=="string"){if(!e.length)return;e=new RegExp(e,"i")}const n=o=>{var i=o.data.match(e);if(i&&o.data.length>0){var a=document.createElement("span");a.className="highlight";var l=o.splitText(i.index);l.splitText(i[0].length);var c=l.cloneNode(!0);return a.appendChild(c),replaceNode(l,a),1}return 0},r=o=>{o.nodeType===1&&o.childNodes&&!/(script|style)/i.test(o.tagName)&&(o.className!=="highlight"||o.tagName!=="SPAN")&&Array.from(o.childNodes).forEach(i=>{s(i)})},s=o=>o.nodeType===3?n(o):(r(o),0);s(t)},removeHighlight=t=>{var e=t.querySelectorAll("span.highlight");Array.prototype.forEach.call(e,function(n){var r=n.parentNode;r.replaceChild(n.firstChild,n),r.normalize()})},KEY_A=65,KEY_RETURN=13,KEY_ESC$1=27,KEY_LEFT$1=37,KEY_UP=38,KEY_RIGHT$1=39,KEY_DOWN=40,KEY_BACKSPACE=8,KEY_DELETE=46,KEY_TAB$1=9,IS_MAC=typeof navigator>"u"?!1:/Mac/.test(navigator.userAgent),KEY_SHORTCUT=IS_MAC?"metaKey":"ctrlKey",defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,refreshThrottle:300,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(t){return t.length>0},render:{}};function getSettings(t,e){var n=Object.assign({},defaults,e),r=n.dataAttr,s=n.labelField,o=n.valueField,i=n.disabledField,a=n.optgroupField,l=n.optgroupLabelField,c=n.optgroupValueField,f=t.tagName.toLowerCase(),u=t.getAttribute("placeholder")||t.getAttribute("data-placeholder");if(!u&&!n.allowEmptyOption){let p=t.querySelector('option[value=""]');p&&(u=p.textContent)}var d={placeholder:u,options:[],optgroups:[],items:[],maxItems:null},v=()=>{var p,m=d.options,E={},g=1;let y=0;var S=b=>{var w=Object.assign({},b.dataset),x=r&&w[r];return typeof x=="string"&&x.length&&(w=Object.assign(w,JSON.parse(x))),w},F=(b,w)=>{var x=hash_key$1(b.value);if(x!=null&&!(!x&&!n.allowEmptyOption)){if(E.hasOwnProperty(x)){if(w){var _=E[x][a];_?Array.isArray(_)?_.push(w):E[x][a]=[_,w]:E[x][a]=w}}else{var A=S(b);A[s]=A[s]||b.textContent,A[o]=A[o]||x,A[i]=A[i]||b.disabled,A[a]=A[a]||w,A.$option=b,A.$order=A.$order||++y,E[x]=A,m.push(A)}b.selected&&d.items.push(x)}},$=b=>{var w,x;x=S(b),x[l]=x[l]||b.getAttribute("label")||"",x[c]=x[c]||g++,x[i]=x[i]||b.disabled,x.$order=x.$order||++y,d.optgroups.push(x),w=x[c],iterate$4(b.children,_=>{F(_,w)})};d.maxItems=t.hasAttribute("multiple")?null:1,iterate$4(t.children,b=>{p=b.tagName.toLowerCase(),p==="optgroup"?$(b):p==="option"&&F(b)})},h=()=>{const p=t.getAttribute(r);if(p)d.options=JSON.parse(p),iterate$4(d.options,E=>{d.items.push(E[o])});else{var m=t.value.trim()||"";if(!n.allowEmptyOption&&!m.length)return;const E=m.split(n.delimiter);iterate$4(E,g=>{const y={};y[s]=g,y[o]=g,d.options.push(y)}),d.items=E}};return f==="select"?v():h(),Object.assign({},defaults,d,e)}var instance_i=0;class TomSelect extends MicroPlugin(MicroEvent){constructor(e,n){super(),this.order=0,this.isOpen=!1,this.isDisabled=!1,this.isReadOnly=!1,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],this.refreshTimeout=null,instance_i++;var r,s=getDom$6(e);if(s.tomselect)throw new Error("Tom Select already initialized on this element");s.tomselect=this;var o=window.getComputedStyle&&window.getComputedStyle(s,null);r=o.getPropertyValue("direction");const i=getSettings(s,n);this.settings=i,this.input=s,this.tabIndex=s.tabIndex||0,this.is_select_tag=s.tagName.toLowerCase()==="select",this.rtl=/rtl/i.test(r),this.inputId=getId(s,"tomselect-"+instance_i),this.isRequired=s.required,this.sifter=new Sifter(this.options,{diacritics:i.diacritics}),i.mode=i.mode||(i.maxItems===1?"single":"multi"),typeof i.hideSelected!="boolean"&&(i.hideSelected=i.mode==="multi"),typeof i.hidePlaceholder!="boolean"&&(i.hidePlaceholder=i.mode!=="multi");var a=i.createFilter;typeof a!="function"&&(typeof a=="string"&&(a=new RegExp(a)),a instanceof RegExp?i.createFilter=m=>a.test(m):i.createFilter=m=>this.settings.duplicates||!this.options[m]),this.initializePlugins(i.plugins),this.setupCallbacks(),this.setupTemplates();const l=getDom$6("<div>"),c=getDom$6("<div>"),f=this._render("dropdown"),u=getDom$6('<div role="listbox" tabindex="-1">'),d=this.input.getAttribute("class")||"",v=i.mode;var h;if(addClasses$2(l,i.wrapperClass,d,v),addClasses$2(c,i.controlClass),append(l,c),addClasses$2(f,i.dropdownClass,v),i.copyClassesToDropdown&&addClasses$2(f,d),addClasses$2(u,i.dropdownContentClass),append(f,u),getDom$6(i.dropdownParent||l).appendChild(f),isHtmlString$6(i.controlInput)){h=getDom$6(i.controlInput);var p=["autocorrect","autocapitalize","autocomplete","spellcheck"];iterate$4(p,m=>{s.getAttribute(m)&&setAttr$1(h,{[m]:s.getAttribute(m)})}),h.tabIndex=-1,c.appendChild(h),this.focus_node=h}else i.controlInput?(h=getDom$6(i.controlInput),this.focus_node=h):(h=getDom$6("<input/>"),this.focus_node=c);this.wrapper=l,this.dropdown=f,this.dropdown_content=u,this.control=c,this.control_input=h,this.setup()}setup(){const e=this,n=e.settings,r=e.control_input,s=e.dropdown,o=e.dropdown_content,i=e.wrapper,a=e.control,l=e.input,c=e.focus_node,f={passive:!0},u=e.inputId+"-ts-dropdown";setAttr$1(o,{id:u}),setAttr$1(c,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":u});const d=getId(c,e.inputId+"-ts-control"),v="label[for='"+escapeQuery(e.inputId)+"']",h=document.querySelector(v),p=e.focus.bind(e);if(h){addEvent$5(h,"click",p),setAttr$1(h,{for:d});const g=getId(h,e.inputId+"-ts-label");setAttr$1(c,{"aria-labelledby":g}),setAttr$1(o,{"aria-labelledby":g})}if(i.style.width=l.style.width,e.plugins.names.length){const g="plugin-"+e.plugins.names.join(" plugin-");addClasses$2([i,s],g)}(n.maxItems===null||n.maxItems>1)&&e.is_select_tag&&setAttr$1(l,{multiple:"multiple"}),n.placeholder&&setAttr$1(r,{placeholder:n.placeholder}),!n.splitOn&&n.delimiter&&(n.splitOn=new RegExp("\\s*"+escape_regex(n.delimiter)+"+\\s*")),n.load&&n.loadThrottle&&(n.load=loadDebounce(n.load,n.loadThrottle)),addEvent$5(s,"mousemove",()=>{e.ignoreHover=!1}),addEvent$5(s,"mouseenter",g=>{var y=parentMatch$1(g.target,"[data-selectable]",s);y&&e.onOptionHover(g,y)},{capture:!0}),addEvent$5(s,"click",g=>{const y=parentMatch$1(g.target,"[data-selectable]");y&&(e.onOptionSelect(g,y),preventDefault$5(g,!0))}),addEvent$5(a,"click",g=>{var y=parentMatch$1(g.target,"[data-ts-item]",a);if(y&&e.onItemSelect(g,y)){preventDefault$5(g,!0);return}r.value==""&&(e.onClick(),preventDefault$5(g,!0))}),addEvent$5(c,"keydown",g=>e.onKeyDown(g)),addEvent$5(r,"keypress",g=>e.onKeyPress(g)),addEvent$5(r,"input",g=>e.onInput(g)),addEvent$5(c,"blur",g=>e.onBlur(g)),addEvent$5(c,"focus",g=>e.onFocus(g)),addEvent$5(r,"paste",g=>e.onPaste(g));const m=g=>{const y=g.composedPath()[0];if(!i.contains(y)&&!s.contains(y)){e.isFocused&&e.blur(),e.inputState();return}y==r&&e.isOpen?g.stopPropagation():preventDefault$5(g,!0)},E=()=>{e.isOpen&&e.positionDropdown()};addEvent$5(document,"mousedown",m),addEvent$5(window,"scroll",E,f),addEvent$5(window,"resize",E,f),this._destroy=()=>{document.removeEventListener("mousedown",m),window.removeEventListener("scroll",E),window.removeEventListener("resize",E),h&&h.removeEventListener("click",p)},this.revertSettings={innerHTML:l.innerHTML,tabIndex:l.tabIndex},l.tabIndex=-1,l.insertAdjacentElement("afterend",e.wrapper),e.sync(!1),n.items=[],delete n.optgroups,delete n.options,addEvent$5(l,"invalid",()=>{e.isValid&&(e.isValid=!1,e.isInvalid=!0,e.refreshState())}),e.updateOriginalInput(),e.refreshItems(),e.close(!1),e.inputState(),e.isSetup=!0,l.disabled?e.disable():l.readOnly?e.setReadOnly(!0):e.enable(),e.on("change",this.onChange),addClasses$2(l,"tomselected","ts-hidden-accessible"),e.trigger("initialize"),n.preload===!0&&e.preload()}setupOptions(e=[],n=[]){this.addOptions(e),iterate$4(n,r=>{this.registerOptionGroup(r)})}setupTemplates(){var e=this,n=e.settings.labelField,r=e.settings.optgroupLabelField,s={optgroup:o=>{let i=document.createElement("div");return i.className="optgroup",i.appendChild(o.options),i},optgroup_header:(o,i)=>'<div class="optgroup-header">'+i(o[r])+"</div>",option:(o,i)=>"<div>"+i(o[n])+"</div>",item:(o,i)=>"<div>"+i(o[n])+"</div>",option_create:(o,i)=>'<div class="create">Add <strong>'+i(o.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};e.settings.render=Object.assign({},s,e.settings.render)}setupCallbacks(){var e,n,r={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in r)n=this.settings[r[e]],n&&this.on(e,n)}sync(e=!0){const n=this,r=e?getSettings(n.input,{delimiter:n.settings.delimiter}):n.settings;n.setupOptions(r.options,r.optgroups),n.setValue(r.items||[],!0),n.lastQuery=null}onClick(){var e=this;if(e.activeItems.length>0){e.clearActiveItems(),e.focus();return}e.isFocused&&e.isOpen?e.blur():e.focus()}onMouseDown(){}onChange(){triggerEvent(this.input,"input"),triggerEvent(this.input,"change")}onPaste(e){var n=this;if(n.isInputHidden||n.isLocked){preventDefault$5(e);return}n.settings.splitOn&&setTimeout(()=>{var r=n.inputValue();if(r.match(n.settings.splitOn)){var s=r.trim().split(n.settings.splitOn);iterate$4(s,o=>{hash_key$1(o)&&(this.options[o]?n.addItem(o):n.createItem(o))})}},0)}onKeyPress(e){var n=this;if(n.isLocked){preventDefault$5(e);return}var r=String.fromCharCode(e.keyCode||e.which);if(n.settings.create&&n.settings.mode==="multi"&&r===n.settings.delimiter){n.createItem(),preventDefault$5(e);return}}onKeyDown(e){var n=this;if(n.ignoreHover=!0,n.isLocked){e.keyCode!==KEY_TAB$1&&preventDefault$5(e);return}switch(e.keyCode){case KEY_A:if(isKeyDown(KEY_SHORTCUT,e)&&n.control_input.value==""){preventDefault$5(e),n.selectAll();return}break;case KEY_ESC$1:n.isOpen&&(preventDefault$5(e,!0),n.close()),n.clearActiveItems();return;case KEY_DOWN:if(!n.isOpen&&n.hasOptions)n.open();else if(n.activeOption){let r=n.getAdjacent(n.activeOption,1);r&&n.setActiveOption(r)}preventDefault$5(e);return;case KEY_UP:if(n.activeOption){let r=n.getAdjacent(n.activeOption,-1);r&&n.setActiveOption(r)}preventDefault$5(e);return;case KEY_RETURN:n.canSelect(n.activeOption)?(n.onOptionSelect(e,n.activeOption),preventDefault$5(e)):(n.settings.create&&n.createItem()||document.activeElement==n.control_input&&n.isOpen)&&preventDefault$5(e);return;case KEY_LEFT$1:n.advanceSelection(-1,e);return;case KEY_RIGHT$1:n.advanceSelection(1,e);return;case KEY_TAB$1:n.settings.selectOnTab&&(n.canSelect(n.activeOption)&&(n.onOptionSelect(e,n.activeOption),preventDefault$5(e)),n.settings.create&&n.createItem()&&preventDefault$5(e));return;case KEY_BACKSPACE:case KEY_DELETE:n.deleteSelection(e);return}n.isInputHidden&&!isKeyDown(KEY_SHORTCUT,e)&&preventDefault$5(e)}onInput(e){if(this.isLocked)return;const n=this.inputValue();if(this.lastValue!==n){if(this.lastValue=n,n==""){this._onInput();return}this.refreshTimeout&&window.clearTimeout(this.refreshTimeout),this.refreshTimeout=timeout(()=>{this.refreshTimeout=null,this._onInput()},this.settings.refreshThrottle)}}_onInput(){const e=this.lastValue;this.settings.shouldLoad.call(this,e)&&this.load(e),this.refreshOptions(),this.trigger("type",e)}onOptionHover(e,n){this.ignoreHover||this.setActiveOption(n,!1)}onFocus(e){var n=this,r=n.isFocused;if(n.isDisabled||n.isReadOnly){n.blur(),preventDefault$5(e);return}n.ignoreFocus||(n.isFocused=!0,n.settings.preload==="focus"&&n.preload(),r||n.trigger("focus"),n.activeItems.length||(n.inputState(),n.refreshOptions(!!n.settings.openOnFocus)),n.refreshState())}onBlur(e){if(document.hasFocus()!==!1){var n=this;if(n.isFocused){n.isFocused=!1,n.ignoreFocus=!1;var r=()=>{n.close(),n.setActiveItem(),n.setCaret(n.items.length),n.trigger("blur")};n.settings.create&&n.settings.createOnBlur?n.createItem(null,r):r()}}}onOptionSelect(e,n){var r,s=this;n.parentElement&&n.parentElement.matches("[data-disabled]")||(n.classList.contains("create")?s.createItem(null,()=>{s.settings.closeAfterSelect&&s.close()}):(r=n.dataset.value,typeof r<"u"&&(s.lastQuery=null,s.addItem(r),s.settings.closeAfterSelect&&s.close(),!s.settings.hideSelected&&e.type&&/click/.test(e.type)&&s.setActiveOption(n))))}canSelect(e){return!!(this.isOpen&&e&&this.dropdown_content.contains(e))}onItemSelect(e,n){var r=this;return!r.isLocked&&r.settings.mode==="multi"?(preventDefault$5(e),r.setActiveItem(n,e),!0):!1}canLoad(e){return!(!this.settings.load||this.loadedSearches.hasOwnProperty(e))}load(e){const n=this;if(!n.canLoad(e))return;addClasses$2(n.wrapper,n.settings.loadingClass),n.loading++;const r=n.loadCallback.bind(n);n.settings.load.call(n,e,r)}loadCallback(e,n){const r=this;r.loading=Math.max(r.loading-1,0),r.lastQuery=null,r.clearActiveOption(),r.setupOptions(e,n),r.refreshOptions(r.isFocused&&!r.isInputHidden),r.loading||removeClasses$1(r.wrapper,r.settings.loadingClass),r.trigger("load",e,n)}preload(){var e=this.wrapper.classList;e.contains("preloaded")||(e.add("preloaded"),this.load(""))}setTextboxValue(e=""){var n=this.control_input,r=n.value!==e;r&&(n.value=e,triggerEvent(n,"update"),this.lastValue=e)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(e,n){var r=n?[]:["change"];debounce_events(this,r,()=>{this.clear(n),this.addItems(e,n)})}setMaxItems(e){e===0&&(e=null),this.settings.maxItems=e,this.refreshState()}setActiveItem(e,n){var r=this,s,o,i,a,l,c;if(r.settings.mode!=="single"){if(!e){r.clearActiveItems(),r.isFocused&&r.inputState();return}if(s=n&&n.type.toLowerCase(),s==="click"&&isKeyDown("shiftKey",n)&&r.activeItems.length){for(c=r.getLastActive(),i=Array.prototype.indexOf.call(r.control.children,c),a=Array.prototype.indexOf.call(r.control.children,e),i>a&&(l=i,i=a,a=l),o=i;o<=a;o++)e=r.control.children[o],r.activeItems.indexOf(e)===-1&&r.setActiveItemClass(e);preventDefault$5(n)}else s==="click"&&isKeyDown(KEY_SHORTCUT,n)||s==="keydown"&&isKeyDown("shiftKey",n)?e.classList.contains("active")?r.removeActiveItem(e):r.setActiveItemClass(e):(r.clearActiveItems(),r.setActiveItemClass(e));r.inputState(),r.isFocused||r.focus()}}setActiveItemClass(e){const n=this,r=n.control.querySelector(".last-active");r&&removeClasses$1(r,"last-active"),addClasses$2(e,"active last-active"),n.trigger("item_select",e),n.activeItems.indexOf(e)==-1&&n.activeItems.push(e)}removeActiveItem(e){var n=this.activeItems.indexOf(e);this.activeItems.splice(n,1),removeClasses$1(e,"active")}clearActiveItems(){removeClasses$1(this.activeItems,"active"),this.activeItems=[]}setActiveOption(e,n=!0){e!==this.activeOption&&(this.clearActiveOption(),e&&(this.activeOption=e,setAttr$1(this.focus_node,{"aria-activedescendant":e.getAttribute("id")}),setAttr$1(e,{"aria-selected":"true"}),addClasses$2(e,"active"),n&&this.scrollToOption(e)))}scrollToOption(e,n){if(!e)return;const r=this.dropdown_content,s=r.clientHeight,o=r.scrollTop||0,i=e.offsetHeight,a=e.getBoundingClientRect().top-r.getBoundingClientRect().top+o;a+i>s+o?this.scroll(a-s+i,n):a<o&&this.scroll(a,n)}scroll(e,n){const r=this.dropdown_content;n&&(r.style.scrollBehavior=n),r.scrollTop=e,r.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(removeClasses$1(this.activeOption,"active"),setAttr$1(this.activeOption,{"aria-selected":null})),this.activeOption=null,setAttr$1(this.focus_node,{"aria-activedescendant":null})}selectAll(){const e=this;if(e.settings.mode==="single")return;const n=e.controlChildren();n.length&&(e.inputState(),e.close(),e.activeItems=n,iterate$4(n,r=>{e.setActiveItemClass(r)}))}inputState(){var e=this;e.control.contains(e.control_input)&&(setAttr$1(e.control_input,{placeholder:e.settings.placeholder}),e.activeItems.length>0||!e.isFocused&&e.settings.hidePlaceholder&&e.items.length>0?(e.setTextboxValue(),e.isInputHidden=!0):(e.settings.hidePlaceholder&&e.items.length>0&&setAttr$1(e.control_input,{placeholder:""}),e.isInputHidden=!1),e.wrapper.classList.toggle("input-hidden",e.isInputHidden))}inputValue(){return this.control_input.value.trim()}focus(){var e=this;e.isDisabled||e.isReadOnly||(e.ignoreFocus=!0,e.control_input.offsetWidth?e.control_input.focus():e.focus_node.focus(),setTimeout(()=>{e.ignoreFocus=!1,e.onFocus()},0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())}getSearchOptions(){var e=this.settings,n=e.sortField;return typeof e.sortField=="string"&&(n=[{field:e.sortField}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:n,nesting:e.nesting}}search(e){var n,r,s=this,o=this.getSearchOptions();if(s.settings.score&&(r=s.settings.score.call(s,e),typeof r!="function"))throw new Error('Tom Select "score" setting must be a function that returns a function');return e!==s.lastQuery?(s.lastQuery=e,n=s.sifter.search(e,Object.assign(o,{score:r})),s.currentResults=n):n=Object.assign({},s.currentResults),s.settings.hideSelected&&(n.items=n.items.filter(i=>{let a=hash_key$1(i.id);return!(a&&s.items.indexOf(a)!==-1)})),n}refreshOptions(e=!0){var n,r,s,o,i,a,l,c,f,u;const d={},v=[];var h=this,p=h.inputValue();const m=p===h.lastQuery||p==""&&h.lastQuery==null;var E=h.search(p),g=null,y=h.settings.shouldOpen||!1,S=h.dropdown_content;m&&(g=h.activeOption,g&&(f=g.closest("[data-group]"))),o=E.items.length,typeof h.settings.maxOptions=="number"&&(o=Math.min(o,h.settings.maxOptions)),o>0&&(y=!0);const F=(b,w)=>{let x=d[b];if(x!==void 0){let A=v[x];if(A!==void 0)return[x,A.fragment]}let _=document.createDocumentFragment();return x=v.length,v.push({fragment:_,order:w,optgroup:b}),[x,_]};for(n=0;n<o;n++){let b=E.items[n];if(!b)continue;let w=b.id,x=h.options[w];if(x===void 0)continue;let _=get_hash$1(w),A=h.getOption(_,!0);for(h.settings.hideSelected||A.classList.toggle("selected",h.items.includes(_)),i=x[h.settings.optgroupField]||"",a=Array.isArray(i)?i:[i],r=0,s=a&&a.length;r<s;r++){i=a[r];let R=x.$order,D=h.optgroups[i];D===void 0?i="":R=D.$order;const[P,k]=F(i,R);r>0&&(A=A.cloneNode(!0),setAttr$1(A,{id:x.$id+"-clone-"+r,"aria-selected":null}),A.classList.add("ts-cloned"),removeClasses$1(A,"active"),h.activeOption&&h.activeOption.dataset.value==w&&f&&f.dataset.group===i.toString()&&(g=A)),k.appendChild(A),i!=""&&(d[i]=P)}}h.settings.lockOptgroupOrder&&v.sort((b,w)=>b.order-w.order),l=document.createDocumentFragment(),iterate$4(v,b=>{let w=b.fragment,x=b.optgroup;if(!w||!w.children.length)return;let _=h.optgroups[x];if(_!==void 0){let A=document.createDocumentFragment(),R=h.render("optgroup_header",_);append(A,R),append(A,w);let D=h.render("optgroup",{group:_,options:A});append(l,D)}else append(l,w)}),S.innerHTML="",append(S,l),h.settings.highlight&&(removeHighlight(S),E.query.length&&E.tokens.length&&iterate$4(E.tokens,b=>{highlight(S,b.regex)}));var $=b=>{let w=h.render(b,{input:p});return w&&(y=!0,S.insertBefore(w,S.firstChild)),w};if(h.loading?$("loading"):h.settings.shouldLoad.call(h,p)?E.items.length===0&&$("no_results"):$("not_loading"),c=h.canCreate(p),c&&(u=$("option_create")),h.hasOptions=E.items.length>0||c,y){if(E.items.length>0){if(!g&&h.settings.mode==="single"&&h.items[0]!=null&&(g=h.getOption(h.items[0])),!S.contains(g)){let b=0;u&&!h.settings.addPrecedence&&(b=1),g=h.selectable()[b]}}else u&&(g=u);e&&!h.isOpen&&(h.open(),h.scrollToOption(g,"auto")),h.setActiveOption(g)}else h.clearActiveOption(),e&&h.isOpen&&h.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(e,n=!1){const r=this;if(Array.isArray(e))return r.addOptions(e,n),!1;const s=hash_key$1(e[r.settings.valueField]);return s===null||r.options.hasOwnProperty(s)?!1:(e.$order=e.$order||++r.order,e.$id=r.inputId+"-opt-"+e.$order,r.options[s]=e,r.lastQuery=null,n&&(r.userOptions[s]=n,r.trigger("option_add",s,e)),s)}addOptions(e,n=!1){iterate$4(e,r=>{this.addOption(r,n)})}registerOption(e){return this.addOption(e)}registerOptionGroup(e){var n=hash_key$1(e[this.settings.optgroupValueField]);return n===null?!1:(e.$order=e.$order||++this.order,this.optgroups[n]=e,n)}addOptionGroup(e,n){var r;n[this.settings.optgroupValueField]=e,(r=this.registerOptionGroup(n))&&this.trigger("optgroup_add",r,n)}removeOptionGroup(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.clearCache(),this.trigger("optgroup_remove",e))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(e,n){const r=this;var s,o;const i=hash_key$1(e),a=hash_key$1(n[r.settings.valueField]);if(i===null)return;const l=r.options[i];if(l==null)return;if(typeof a!="string")throw new Error("Value must be set in option data");const c=r.getOption(i),f=r.getItem(i);if(n.$order=n.$order||l.$order,delete r.options[i],r.uncacheValue(a),r.options[a]=n,c){if(r.dropdown_content.contains(c)){const u=r._render("option",n);replaceNode(c,u),r.activeOption===c&&r.setActiveOption(u)}c.remove()}f&&(o=r.items.indexOf(i),o!==-1&&r.items.splice(o,1,a),s=r._render("item",n),f.classList.contains("active")&&addClasses$2(s,"active"),replaceNode(f,s)),r.lastQuery=null}removeOption(e,n){const r=this;e=get_hash$1(e),r.uncacheValue(e),delete r.userOptions[e],delete r.options[e],r.lastQuery=null,r.trigger("option_remove",e),r.removeItem(e,n)}clearOptions(e){const n=(e||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();const r={};iterate$4(this.options,(s,o)=>{n(s,o)&&(r[o]=s)}),this.options=this.sifter.items=r,this.lastQuery=null,this.trigger("option_clear")}clearFilter(e,n){return this.items.indexOf(n)>=0}getOption(e,n=!1){const r=hash_key$1(e);if(r===null)return null;const s=this.options[r];if(s!=null){if(s.$div)return s.$div;if(n)return this._render("option",s)}return null}getAdjacent(e,n,r="option"){var s=this,o;if(!e)return null;r=="item"?o=s.controlChildren():o=s.dropdown_content.querySelectorAll("[data-selectable]");for(let i=0;i<o.length;i++)if(o[i]==e)return n>0?o[i+1]:o[i-1];return null}getItem(e){if(typeof e=="object")return e;var n=hash_key$1(e);return n!==null?this.control.querySelector(`[data-value="${addSlashes(n)}"]`):null}addItems(e,n){var r=this,s=Array.isArray(e)?e:[e];s=s.filter(i=>r.items.indexOf(i)===-1);const o=s[s.length-1];s.forEach(i=>{r.isPending=i!==o,r.addItem(i,n)})}addItem(e,n){var r=n?[]:["change","dropdown_close"];debounce_events(this,r,()=>{var s,o;const i=this,a=i.settings.mode,l=hash_key$1(e);if(!(l&&i.items.indexOf(l)!==-1&&(a==="single"&&i.close(),a==="single"||!i.settings.duplicates))&&!(l===null||!i.options.hasOwnProperty(l))&&(a==="single"&&i.clear(n),!(a==="multi"&&i.isFull()))){if(s=i._render("item",i.options[l]),i.control.contains(s)&&(s=s.cloneNode(!0)),o=i.isFull(),i.items.splice(i.caretPos,0,l),i.insertAtCaret(s),i.isSetup){if(!i.isPending&&i.settings.hideSelected){let c=i.getOption(l),f=i.getAdjacent(c,1);f&&i.setActiveOption(f)}!i.isPending&&!i.settings.closeAfterSelect&&i.refreshOptions(i.isFocused&&a!=="single"),i.settings.closeAfterSelect!=!1&&i.isFull()?i.close():i.isPending||i.positionDropdown(),i.trigger("item_add",l,s),i.isPending||i.updateOriginalInput({silent:n})}(!i.isPending||!o&&i.isFull())&&(i.inputState(),i.refreshState())}})}removeItem(e=null,n){const r=this;if(e=r.getItem(e),!e)return;var s,o;const i=e.dataset.value;s=nodeIndex$2(e),e.remove(),e.classList.contains("active")&&(o=r.activeItems.indexOf(e),r.activeItems.splice(o,1),removeClasses$1(e,"active")),r.items.splice(s,1),r.lastQuery=null,!r.settings.persist&&r.userOptions.hasOwnProperty(i)&&r.removeOption(i,n),s<r.caretPos&&r.setCaret(r.caretPos-1),r.updateOriginalInput({silent:n}),r.refreshState(),r.positionDropdown(),r.trigger("item_remove",i,e)}createItem(e=null,n=()=>{}){arguments.length===3&&(n=arguments[2]),typeof n!="function"&&(n=()=>{});var r=this,s=r.caretPos,o;if(e=e||r.inputValue(),!r.canCreate(e))return n(),!1;r.lock();var i=!1,a=l=>{if(r.unlock(),!l||typeof l!="object")return n();var c=hash_key$1(l[r.settings.valueField]);if(typeof c!="string")return n();r.setTextboxValue(),r.addOption(l,!0),r.setCaret(s),r.addItem(c),n(l),i=!0};return typeof r.settings.create=="function"?o=r.settings.create.call(this,e,a):o={[r.settings.labelField]:e,[r.settings.valueField]:e},i||a(o),!0}refreshItems(){var e=this;e.lastQuery=null,e.isSetup&&e.addItems(e.items),e.updateOriginalInput(),e.refreshState()}refreshState(){const e=this;e.refreshValidityState();const n=e.isFull(),r=e.isLocked;e.wrapper.classList.toggle("rtl",e.rtl);const s=e.wrapper.classList;s.toggle("focus",e.isFocused),s.toggle("disabled",e.isDisabled),s.toggle("readonly",e.isReadOnly),s.toggle("required",e.isRequired),s.toggle("invalid",!e.isValid),s.toggle("locked",r),s.toggle("full",n),s.toggle("input-active",e.isFocused&&!e.isInputHidden),s.toggle("dropdown-active",e.isOpen),s.toggle("has-options",isEmptyObject(e.options)),s.toggle("has-items",e.items.length>0)}refreshValidityState(){var e=this;e.input.validity&&(e.isValid=e.input.validity.valid,e.isInvalid=!e.isValid)}isFull(){return this.settings.maxItems!==null&&this.items.length>=this.settings.maxItems}updateOriginalInput(e={}){const n=this;var r,s;const o=n.input.querySelector('option[value=""]');if(n.is_select_tag){let c=function(f,u,d){return f||(f=getDom$6('<option value="'+escape_html$1(u)+'">'+escape_html$1(d)+"</option>")),f!=o&&n.input.append(f),a.push(f),(f!=o||l>0)&&(f.selected=!0),f};var i=c;const a=[],l=n.input.querySelectorAll("option:checked").length;n.input.querySelectorAll("option:checked").forEach(f=>{f.selected=!1}),n.items.length==0&&n.settings.mode=="single"?c(o,"",""):n.items.forEach(f=>{if(r=n.options[f],s=r[n.settings.labelField]||"",a.includes(r.$option)){const u=n.input.querySelector(`option[value="${addSlashes(f)}"]:not(:checked)`);c(u,f,s)}else r.$option=c(r.$option,f,s)})}else n.input.value=n.getValue();n.isSetup&&(e.silent||n.trigger("change",n.getValue()))}open(){var e=this;e.isLocked||e.isOpen||e.settings.mode==="multi"&&e.isFull()||(e.isOpen=!0,setAttr$1(e.focus_node,{"aria-expanded":"true"}),e.refreshState(),applyCSS(e.dropdown,{visibility:"hidden",display:"block"}),e.positionDropdown(),applyCSS(e.dropdown,{visibility:"visible",display:"block"}),e.focus(),e.trigger("dropdown_open",e.dropdown))}close(e=!0){var n=this,r=n.isOpen;e&&(n.setTextboxValue(),n.settings.mode==="single"&&n.items.length&&n.inputState()),n.isOpen=!1,setAttr$1(n.focus_node,{"aria-expanded":"false"}),applyCSS(n.dropdown,{display:"none"}),n.settings.hideSelected&&n.clearActiveOption(),n.refreshState(),r&&n.trigger("dropdown_close",n.dropdown)}positionDropdown(){if(this.settings.dropdownParent==="body"){var e=this.control,n=e.getBoundingClientRect(),r=e.offsetHeight+n.top+window.scrollY,s=n.left+window.scrollX;applyCSS(this.dropdown,{width:n.width+"px",top:r+"px",left:s+"px"})}}clear(e){var n=this;if(n.items.length){var r=n.controlChildren();iterate$4(r,s=>{n.removeItem(s,!0)}),n.inputState(),e||n.updateOriginalInput(),n.trigger("clear")}}insertAtCaret(e){const n=this,r=n.caretPos,s=n.control;s.insertBefore(e,s.children[r]||null),n.setCaret(r+1)}deleteSelection(e){var n,r,s,o,i=this;n=e&&e.keyCode===KEY_BACKSPACE?-1:1,r=getSelection(i.control_input);const a=[];if(i.activeItems.length)o=getTail(i.activeItems,n),s=nodeIndex$2(o),n>0&&s++,iterate$4(i.activeItems,l=>a.push(l));else if((i.isFocused||i.settings.mode==="single")&&i.items.length){const l=i.controlChildren();let c;n<0&&r.start===0&&r.length===0?c=l[i.caretPos-1]:n>0&&r.start===i.inputValue().length&&(c=l[i.caretPos]),c!==void 0&&a.push(c)}if(!i.shouldDelete(a,e))return!1;for(preventDefault$5(e,!0),typeof s<"u"&&i.setCaret(s);a.length;)i.removeItem(a.pop());return i.inputState(),i.positionDropdown(),i.refreshOptions(!1),!0}shouldDelete(e,n){const r=e.map(s=>s.dataset.value);return!(!r.length||typeof this.settings.onDelete=="function"&&this.settings.onDelete(r,n)===!1)}advanceSelection(e,n){var r,s,o=this;o.rtl&&(e*=-1),!o.inputValue().length&&(isKeyDown(KEY_SHORTCUT,n)||isKeyDown("shiftKey",n)?(r=o.getLastActive(e),r?r.classList.contains("active")?s=o.getAdjacent(r,e,"item"):s=r:e>0?s=o.control_input.nextElementSibling:s=o.control_input.previousElementSibling,s&&(s.classList.contains("active")&&o.removeActiveItem(r),o.setActiveItemClass(s))):o.moveCaret(e))}moveCaret(e){}getLastActive(e){let n=this.control.querySelector(".last-active");if(n)return n;var r=this.control.querySelectorAll(".active");if(r)return getTail(r,e)}setCaret(e){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.setLocked(!0)}unlock(){this.setLocked(!1)}setLocked(e=this.isReadOnly||this.isDisabled){this.isLocked=e,this.refreshState()}disable(){this.setDisabled(!0),this.close()}enable(){this.setDisabled(!1)}setDisabled(e){this.focus_node.tabIndex=e?-1:this.tabIndex,this.isDisabled=e,this.input.disabled=e,this.control_input.disabled=e,this.setLocked()}setReadOnly(e){this.isReadOnly=e,this.input.readOnly=e,this.control_input.readOnly=e,this.setLocked()}destroy(){var e=this,n=e.revertSettings;e.trigger("destroy"),e.off(),e.wrapper.remove(),e.dropdown.remove(),e.input.innerHTML=n.innerHTML,e.input.tabIndex=n.tabIndex,removeClasses$1(e.input,"tomselected","ts-hidden-accessible"),e._destroy(),delete e.input.tomselect}render(e,n){var r,s;const o=this;if(typeof this.settings.render[e]!="function"||(s=o.settings.render[e].call(this,n,escape_html$1),!s))return null;if(s=getDom$6(s),e==="option"||e==="option_create"?n[o.settings.disabledField]?setAttr$1(s,{"aria-disabled":"true"}):setAttr$1(s,{"data-selectable":""}):e==="optgroup"&&(r=n.group[o.settings.optgroupValueField],setAttr$1(s,{"data-group":r}),n.group[o.settings.disabledField]&&setAttr$1(s,{"data-disabled":""})),e==="option"||e==="item"){const i=get_hash$1(n[o.settings.valueField]);setAttr$1(s,{"data-value":i}),e==="item"?(addClasses$2(s,o.settings.itemClass),setAttr$1(s,{"data-ts-item":""})):(addClasses$2(s,o.settings.optionClass),setAttr$1(s,{role:"option",id:n.$id}),n.$div=s,o.options[i]=n)}return s}_render(e,n){const r=this.render(e,n);if(r==null)throw"HTMLElement expected";return r}clearCache(){iterate$4(this.options,e=>{e.$div&&(e.$div.remove(),delete e.$div)})}uncacheValue(e){const n=this.getOption(e);n&&n.remove()}canCreate(e){return this.settings.create&&e.length>0&&this.settings.createFilter.call(this,e)}hook(e,n,r){var s=this,o=s[n];s[n]=function(){var i,a;return e==="after"&&(i=o.apply(s,arguments)),a=r.apply(s,arguments),e==="instead"?a:(e==="before"&&(i=o.apply(s,arguments)),i)}}}const addEvent$4=(t,e,n,r)=>{t.addEventListener(e,n,r)};function plugin$d(){addEvent$4(this.input,"change",()=>{this.sync()})}const hash_key=t=>typeof t>"u"||t===null?null:get_hash(t),get_hash=t=>typeof t=="boolean"?t?"1":"0":t+"",preventDefault$4=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},getDom$5=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(isHtmlString$5(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},isHtmlString$5=t=>typeof t=="string"&&t.indexOf("<")>-1;function plugin$c(t){var e=this,n=e.onOptionSelect;e.settings.hideSelected=!1;const r=Object.assign({className:"tomselect-checkbox",checkedClassNames:void 0,uncheckedClassNames:void 0},t);var s=function(a,l){l?(a.checked=!0,r.uncheckedClassNames&&a.classList.remove(...r.uncheckedClassNames),r.checkedClassNames&&a.classList.add(...r.checkedClassNames)):(a.checked=!1,r.checkedClassNames&&a.classList.remove(...r.checkedClassNames),r.uncheckedClassNames&&a.classList.add(...r.uncheckedClassNames))},o=function(a){setTimeout(()=>{var l=a.querySelector("input."+r.className);l instanceof HTMLInputElement&&s(l,a.classList.contains("selected"))},1)};e.hook("after","setupTemplates",()=>{var i=e.settings.render.option;e.settings.render.option=(a,l)=>{var c=getDom$5(i.call(e,a,l)),f=document.createElement("input");r.className&&f.classList.add(r.className),f.addEventListener("click",function(d){preventDefault$4(d)}),f.type="checkbox";const u=hash_key(a[e.settings.valueField]);return s(f,!!(u&&e.items.indexOf(u)>-1)),c.prepend(f),c}}),e.on("item_remove",i=>{var a=e.getOption(i);a&&(a.classList.remove("selected"),o(a))}),e.on("item_add",i=>{var a=e.getOption(i);a&&o(a)}),e.hook("instead","onOptionSelect",(i,a)=>{if(a.classList.contains("selected")){a.classList.remove("selected"),e.removeItem(a.dataset.value),e.refreshOptions(),preventDefault$4(i,!0);return}n.call(e,i,a),o(a)})}const getDom$4=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(isHtmlString$4(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},isHtmlString$4=t=>typeof t=="string"&&t.indexOf("<")>-1;function plugin$b(t){const e=this,n=Object.assign({className:"clear-button",title:"Clear All",html:r=>`<div class="${r.className}" title="${r.title}">&#10799;</div>`},t);e.on("initialize",()=>{var r=getDom$4(n.html(n));r.addEventListener("click",s=>{e.isLocked||(e.clear(),e.settings.mode==="single"&&e.settings.allowEmptyOption&&e.addItem(""),s.preventDefault(),s.stopPropagation())}),e.control.appendChild(r)})}const preventDefault$3=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},addEvent$3=(t,e,n,r)=>{t.addEventListener(e,n,r)},iterate$3=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},getDom$3=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(isHtmlString$3(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},isHtmlString$3=t=>typeof t=="string"&&t.indexOf("<")>-1,setAttr=(t,e)=>{iterate$3(e,(n,r)=>{n==null?t.removeAttribute(r):t.setAttribute(r,""+n)})},insertAfter=(t,e)=>{var n;(n=t.parentNode)==null||n.insertBefore(e,t.nextSibling)},insertBefore=(t,e)=>{var n;(n=t.parentNode)==null||n.insertBefore(e,t)},isBefore=(t,e)=>{do{var n;if(e=(n=e)==null?void 0:n.previousElementSibling,t==e)return!0}while(e&&e.previousElementSibling);return!1};function plugin$a(){var t=this;if(t.settings.mode!=="multi")return;var e=t.lock,n=t.unlock;let r=!0,s;t.hook("after","setupTemplates",()=>{var o=t.settings.render.item;t.settings.render.item=(i,a)=>{const l=getDom$3(o.call(t,i,a));setAttr(l,{draggable:"true"});const c=p=>{r||preventDefault$3(p),p.stopPropagation()},f=p=>{s=l,setTimeout(()=>{l.classList.add("ts-dragging")},0)},u=p=>{p.preventDefault(),l.classList.add("ts-drag-over"),v(l,s)},d=()=>{l.classList.remove("ts-drag-over")},v=(p,m)=>{m!==void 0&&(isBefore(m,l)?insertAfter(p,m):insertBefore(p,m))},h=()=>{var p;document.querySelectorAll(".ts-drag-over").forEach(E=>E.classList.remove("ts-drag-over")),(p=s)==null||p.classList.remove("ts-dragging"),s=void 0;var m=[];t.control.querySelectorAll("[data-value]").forEach(E=>{if(E.dataset.value){let g=E.dataset.value;g&&m.push(g)}}),t.setValue(m)};return addEvent$3(l,"mousedown",c),addEvent$3(l,"dragstart",f),addEvent$3(l,"dragenter",u),addEvent$3(l,"dragover",u),addEvent$3(l,"dragleave",d),addEvent$3(l,"dragend",h),l}}),t.hook("instead","lock",()=>(r=!1,e.call(t))),t.hook("instead","unlock",()=>(r=!0,n.call(t)))}const preventDefault$2=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},getDom$2=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(isHtmlString$2(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},isHtmlString$2=t=>typeof t=="string"&&t.indexOf("<")>-1;function plugin$9(t){const e=this,n=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:r=>'<div class="'+r.headerClass+'"><div class="'+r.titleRowClass+'"><span class="'+r.labelClass+'">'+r.title+'</span><a class="'+r.closeClass+'">&times;</a></div></div>'},t);e.on("initialize",()=>{var r=getDom$2(n.html(n)),s=r.querySelector("."+n.closeClass);s&&s.addEventListener("click",o=>{preventDefault$2(o,!0),e.close()}),e.dropdown.insertBefore(r,e.dropdown.firstChild)})}const iterate$2=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},removeClasses=(t,...e)=>{var n=classesArray$2(e);t=castAsArray$2(t),t.map(r=>{n.map(s=>{r.classList.remove(s)})})},classesArray$2=t=>{var e=[];return iterate$2(t,n=>{typeof n=="string"&&(n=n.trim().split(/[\t\n\f\r\s]/)),Array.isArray(n)&&(e=e.concat(n))}),e.filter(Boolean)},castAsArray$2=t=>(Array.isArray(t)||(t=[t]),t),nodeIndex$1=(t,e)=>{if(!t)return-1;e=e||t.nodeName;for(var n=0;t=t.previousElementSibling;)t.matches(e)&&n++;return n};function plugin$8(){var t=this;t.hook("instead","setCaret",e=>{t.settings.mode==="single"||!t.control.contains(t.control_input)?e=t.items.length:(e=Math.max(0,Math.min(t.items.length,e)),e!=t.caretPos&&!t.isPending&&t.controlChildren().forEach((n,r)=>{r<e?t.control_input.insertAdjacentElement("beforebegin",n):t.control.appendChild(n)})),t.caretPos=e}),t.hook("instead","moveCaret",e=>{if(!t.isFocused)return;const n=t.getLastActive(e);if(n){const r=nodeIndex$1(n);t.setCaret(e>0?r+1:r),t.setActiveItem(),removeClasses(n,"last-active")}else t.setCaret(t.caretPos+e)})}const KEY_ESC=27,KEY_TAB=9,preventDefault$1=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},addEvent$2=(t,e,n,r)=>{t.addEventListener(e,n,r)},iterate$1=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},getDom$1=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(isHtmlString$1(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},isHtmlString$1=t=>typeof t=="string"&&t.indexOf("<")>-1,addClasses$1=(t,...e)=>{var n=classesArray$1(e);t=castAsArray$1(t),t.map(r=>{n.map(s=>{r.classList.add(s)})})},classesArray$1=t=>{var e=[];return iterate$1(t,n=>{typeof n=="string"&&(n=n.trim().split(/[\t\n\f\r\s]/)),Array.isArray(n)&&(e=e.concat(n))}),e.filter(Boolean)},castAsArray$1=t=>(Array.isArray(t)||(t=[t]),t);function plugin$7(){const t=this;t.settings.shouldOpen=!0,t.hook("before","setup",()=>{t.focus_node=t.control,addClasses$1(t.control_input,"dropdown-input");const e=getDom$1('<div class="dropdown-input-wrap">');e.append(t.control_input),t.dropdown.insertBefore(e,t.dropdown.firstChild);const n=getDom$1('<input class="items-placeholder" tabindex="-1" />');n.placeholder=t.settings.placeholder||"",t.control.append(n)}),t.on("initialize",()=>{t.control_input.addEventListener("keydown",n=>{switch(n.keyCode){case KEY_ESC:t.isOpen&&(preventDefault$1(n,!0),t.close()),t.clearActiveItems();return;case KEY_TAB:t.focus_node.tabIndex=-1;break}return t.onKeyDown.call(t,n)}),t.on("blur",()=>{t.focus_node.tabIndex=t.isDisabled?-1:t.tabIndex}),t.on("dropdown_open",()=>{t.control_input.focus()});const e=t.onBlur;t.hook("instead","onBlur",n=>{if(!(n&&n.relatedTarget==t.control_input))return e.call(t)}),addEvent$2(t.control_input,"blur",()=>t.onBlur()),t.hook("before","close",()=>{t.isOpen&&t.focus_node.focus({preventScroll:!0})})})}const addEvent$1=(t,e,n,r)=>{t.addEventListener(e,n,r)};function plugin$6(){var t=this;t.on("initialize",()=>{var e=document.createElement("span"),n=t.control_input;e.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",t.wrapper.appendChild(e);var r=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(const o of r)e.style[o]=n.style[o];var s=()=>{e.textContent=n.value,n.style.width=e.clientWidth+"px"};s(),t.on("update item_add item_remove",s),addEvent$1(n,"input",s),addEvent$1(n,"keyup",s),addEvent$1(n,"blur",s),addEvent$1(n,"update",s)})}function plugin$5(){var t=this,e=t.deleteSelection;this.hook("instead","deleteSelection",n=>t.activeItems.length?e.call(t,n):!1)}function plugin$4(){this.hook("instead","setActiveItem",()=>{}),this.hook("instead","selectAll",()=>{})}const KEY_LEFT=37,KEY_RIGHT=39,parentMatch=(t,e,n)=>{for(;t&&t.matches;){if(t.matches(e))return t;t=t.parentNode}},nodeIndex=(t,e)=>{if(!t)return-1;e=e||t.nodeName;for(var n=0;t=t.previousElementSibling;)t.matches(e)&&n++;return n};function plugin$3(){var t=this,e=t.onKeyDown;t.hook("instead","onKeyDown",n=>{var r,s,o,i;if(!t.isOpen||!(n.keyCode===KEY_LEFT||n.keyCode===KEY_RIGHT))return e.call(t,n);t.ignoreHover=!0,i=parentMatch(t.activeOption,"[data-group]"),r=nodeIndex(t.activeOption,"[data-selectable]"),i&&(n.keyCode===KEY_LEFT?i=i.previousSibling:i=i.nextSibling,i&&(o=i.querySelectorAll("[data-selectable]"),s=o[Math.min(o.length-1,r)],s&&t.setActiveOption(s)))})}const escape_html=t=>(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),preventDefault=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},addEvent=(t,e,n,r)=>{t.addEventListener(e,n,r)},getDom=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(isHtmlString(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},isHtmlString=t=>typeof t=="string"&&t.indexOf("<")>-1;function plugin$2(t){const e=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},t);var n=this;if(e.append){var r='<a href="javascript:void(0)" class="'+e.className+'" tabindex="-1" title="'+escape_html(e.title)+'">'+e.label+"</a>";n.hook("after","setupTemplates",()=>{var s=n.settings.render.item;n.settings.render.item=(o,i)=>{var a=getDom(s.call(n,o,i)),l=getDom(r);return a.appendChild(l),addEvent(l,"mousedown",c=>{preventDefault(c,!0)}),addEvent(l,"click",c=>{n.isLocked||(preventDefault(c,!0),!n.isLocked&&n.shouldDelete([a],c)&&(n.removeItem(a),n.refreshOptions(!1),n.inputState()))}),a}})}}function plugin$1(t){const e=this,n=Object.assign({text:r=>r[e.settings.labelField]},t);e.on("item_remove",function(r){if(e.isFocused&&e.control_input.value.trim()===""){var s=e.options[r];s&&e.setTextboxValue(n.text.call(e,s))}})}const iterate=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},addClasses=(t,...e)=>{var n=classesArray(e);t=castAsArray(t),t.map(r=>{n.map(s=>{r.classList.add(s)})})},classesArray=t=>{var e=[];return iterate(t,n=>{typeof n=="string"&&(n=n.trim().split(/[\t\n\f\r\s]/)),Array.isArray(n)&&(e=e.concat(n))}),e.filter(Boolean)},castAsArray=t=>(Array.isArray(t)||(t=[t]),t);function plugin(){const t=this,e=t.canLoad,n=t.clearActiveOption,r=t.loadCallback;var s={},o,i=!1,a,l=[];if(t.settings.shouldLoadMore||(t.settings.shouldLoadMore=()=>{if(o.clientHeight/(o.scrollHeight-o.scrollTop)>.9)return!0;if(t.activeOption){var d=t.selectable(),v=Array.from(d).indexOf(t.activeOption);if(v>=d.length-2)return!0}return!1}),!t.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";t.settings.sortField=[{field:"$order"},{field:"$score"}];const c=u=>typeof t.settings.maxOptions=="number"&&o.children.length>=t.settings.maxOptions?!1:!!(u in s&&s[u]),f=(u,d)=>t.items.indexOf(d)>=0||l.indexOf(d)>=0;t.setNextUrl=(u,d)=>{s[u]=d},t.getUrl=u=>{if(u in s){const d=s[u];return s[u]=!1,d}return t.clearPagination(),t.settings.firstUrl.call(t,u)},t.clearPagination=()=>{s={}},t.hook("instead","clearActiveOption",()=>{if(!i)return n.call(t)}),t.hook("instead","canLoad",u=>u in s?c(u):e.call(t,u)),t.hook("instead","loadCallback",(u,d)=>{if(!i)t.clearOptions(f);else if(a){const v=u[0];v!==void 0&&(a.dataset.value=v[t.settings.valueField])}r.call(t,u,d),i=!1}),t.hook("after","refreshOptions",()=>{const u=t.lastValue;var d;c(u)?(d=t.render("loading_more",{query:u}),d&&(d.setAttribute("data-selectable",""),a=d)):u in s&&!o.querySelector(".no-results")&&(d=t.render("no_more_results",{query:u})),d&&(addClasses(d,t.settings.optionClass),o.append(d))}),t.on("initialize",()=>{l=Object.keys(t.options),o=t.dropdown_content,t.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},t.settings.render),o.addEventListener("scroll",()=>{t.settings.shouldLoadMore.call(t)&&c(t.lastValue)&&(i||(i=!0,t.load.call(t,t.lastValue)))})})}TomSelect.define("change_listener",plugin$d);TomSelect.define("checkbox_options",plugin$c);TomSelect.define("clear_button",plugin$b);TomSelect.define("drag_drop",plugin$a);TomSelect.define("dropdown_header",plugin$9);TomSelect.define("caret_position",plugin$8);TomSelect.define("dropdown_input",plugin$7);TomSelect.define("input_autogrow",plugin$6);TomSelect.define("no_backspace_delete",plugin$5);TomSelect.define("no_active_items",plugin$4);TomSelect.define("optgroup_columns",plugin$3);TomSelect.define("remove_button",plugin$2);TomSelect.define("restore_on_backspace",plugin$1);TomSelect.define("virtual_scroll",plugin);window.htmx=htmx;window.toggleHidden=toggleHidden;document.addEventListener("DOMContentLoaded",()=>{new TomSelect("#start-point-search",{create:!1,maxItems:1}),new TomSelect("#end-point-search",{create:!1,maxItems:1})});
