{% macro trip_item(trip) %}
  <div class="trip-item p-2 border rounded">
    <p>{{ trip.summary.start_city }} → {{ trip.summary.end_city }}</p>
    <p>Départ : {{ trip.summary.start_time }}</p>
    <p>Status : {{ trip.status }}</p> 
  </div>
{% endmacro %}

<section id="user-trips" class="p-4 flex flex-col gap-6 rounded-sm bg-base2">
  <h2>Voyages</h2>
  <div class="flex flex-col gap-6">
    {% if "passenger" in roles %}
      <div class="flex justify-start">
        <h3 class="p-4 bg-base3">Passager</h3>
        <div class="flex flex-col ml-8">
          <h4>À venir</h4>
          <div
            id="passenger-upcoming"
            hx-get="{{ url_for('trips.passenger_trips_by_status', status="upcoming") }}"
            hx-trigger="load"
            hx-target="#passenger-upcoming"
            hx-swap="outerHTML"
          >
            <p class="text-base3">Chargement...</p>
          </div>

          <h4>En cours</h4>
          <div
            id="passenger-in-progress"
            hx-get="{{ url_for('trips.passenger_trips_by_status', status="in-progress") }}"
            hx-trigger="load"
            hx-target="#passenger-in-progress"
            hx-swap="outerHTML"
          >
            <p class="text-base3">Chargement...</p>
          </div>

          <h4>Terminés</h4>
          <div
            id="passenger-completed"
            hx-get="{{ url_for('trips.passenger_trips_by_status', status="completed") }}"
            hx-trigger="load"
            hx-target="#passenger-completed"
            hx-swap="outerHTML"
          >
            <p class="text-base3">Chargement...</p>
          </div>
        </div> 
      </div>
    {% endif %}

    {% if "driver" in roles %}
      <div class="flex justify-start">
        <h3 class="p-4 bg-base3">Conducteur.ice</h3>
        <div class="flex flex-col ml-8">
          <h4>À venir</h4>
          <div
            id="driver-upcoming"
            hx-get="{{ url_for('trips.driver_trips_by_status', status="upcoming") }}"
            hx-trigger="load"
            hx-target="#driver-upcoming"
            hx-swap="outerHTML"
          >
            <p class="text-base3">Chargement...</p>
          </div>

          <h4>En cours</h4>
          <div
            id="driver-in-progress"
            hx-get="{{ url_for('trips.driver_trips_by_status', status="in-progress") }}"
            hx-trigger="load"
            hx-target="#driver-in-progress"
            hx-swap="outerHTML"
          >
            <p class="text-base3">Chargement...</p>
          </div>

          <h4>Terminés</h4>
          <div
            id="driver-completed"
            hx-get="{{ url_for('trips.driver_trips_by_status', status="completed") }}"
            hx-trigger="load"
            hx-target="#driver-completed"
            hx-swap="outerHTML"
          >
            <p class="text-base3">Chargement...</p>
          </div>
        </div>
      </div>
    {% endif %}
  </div>
</section>
